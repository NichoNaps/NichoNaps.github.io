import{a as y,t as S,c as we}from"../chunks/__pD-E1O.js";import{aG as ve,aH as Ie,aI as De,o as Te,x as U,G as ze,P as Me,q as Pe,y as qe,aa as Le,aD as de,as as Ee,R as ne,g as Re,p as fe,c as d,r as c,t as V,a as me,f as Y,ac as x,s as k,i as a,aJ as Ae,n as Fe,l as D,a8 as m}from"../chunks/Vng9JeKr.js";import{l as ue,d as Ne,e as Oe,s as C}from"../chunks/DqXEDVeu.js";import{e as Be,i as Ce}from"../chunks/91yU5eQC.js";import{s as G,r as $}from"../chunks/CdfxN9_7.js";import{i as Ge,p as q}from"../chunks/DoeVP_yN.js";import{p as T,i as ee,s as Ue}from"../chunks/Cyf_uJ_U.js";import{t as Ve}from"../chunks/Bvena8yX.js";import{a as We}from"../chunks/Bd76b4vJ.js";import{s as je}from"../chunks/DsDJA76v.js";function He(e,r,s){U&&ze();var o=e,n=Le,i,t=ve()?Ie:De;Te(()=>{t(n,n=r())&&(i&&Me(i),i=Pe(()=>s(o)))}),U&&(o=qe)}function oe(e,r,s=r){var o=ve();ue(e,"input",n=>{var i=n?e.defaultValue:e.value;if(i=Q(e)?X(i):i,s(i),o&&i!==(i=r())){var t=e.selectionStart,u=e.selectionEnd;e.value=i??"",u!==null&&(e.selectionStart=t,e.selectionEnd=Math.min(u,e.value.length))}}),(U&&e.defaultValue!==e.value||Re(r)==null&&e.value)&&s(Q(e)?X(e.value):e.value),de(()=>{var n=r();Q(e)&&n===X(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const K=new Set;function Je(e,r,s,o,n=o){var i=s.getAttribute("type")==="checkbox",t=e;let u=!1;if(r!==null)for(var f of r)t=t[f]??(t[f]=[]);t.push(s),ue(s,"change",()=>{var l=s.__value;i&&(l=ce(t,l,s.checked)),n(l)},()=>n(i?[]:null)),de(()=>{var l=o();if(U&&s.defaultChecked!==s.checked){u=!0;return}i?(l=l||[],s.checked=l.includes(s.__value)):s.checked=Ge(s.__value,l)}),Ee(()=>{var l=t.indexOf(s);l!==-1&&t.splice(l,1)}),K.has(t)||(K.add(t),ne(()=>{t.sort((l,v)=>l.compareDocumentPosition(v)===4?-1:1),K.delete(t)})),ne(()=>{if(u){var l;if(i)l=ce(t,l,s.checked);else{var v=t.find(b=>b.checked);l=v==null?void 0:v.__value}n(l)}})}function ce(e,r,s){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return s||o.delete(r),Array.from(o)}function Q(e){var r=e.type;return r==="number"||r==="range"}function X(e){return e===""?null:+e}var Ze=S('<div style="aspect-ratio: 1/1; display: inline-block;"><div class="backing svelte-efxvsm"><div><!></div></div></div>');function Ke(e,r){fe(r,!0);let s=T(r,"borderRadius",3,"10px"),o=T(r,"progress",7,0),n=T(r,"color",3,"rgb(153, 86, 86)"),i=T(r,"extraPadding",3,"18px");o(Math.max(1,o()));var t=Ze(),u=d(t),f=d(u),l=d(f);{var v=b=>{var h=we(),_=Y(h);je(_,()=>r.children),y(b,h)};ee(l,b=>{r.children&&b(v)})}c(f),c(u),c(t),V(()=>G(u,"style",`--ring-width: ${s()??""}; --progress: ${o()??""}%; --ring-color: ${n()??""}; --extra-padding: ${i()??""};`)),y(e,t),me()}var Qe=S('<div class="svelte-1fm6inc"><h1 class="timer-text center-hz svelte-1fm6inc"> </h1> <div class="timer-subtext center-hz svelte-1fm6inc"> </div></div>'),Xe=S('<button class="btn btn-danger svelte-1fm6inc" aria-label="resume"><i class="bi bi-play-fill svelte-1fm6inc"></i></button>'),Ye=S('<button class="btn btn-secondary svelte-1fm6inc" aria-label="pause"><i class="bi bi-pause-fill svelte-1fm6inc"></i></button>'),$e=S('<div class="appear svelte-1fm6inc"><!> <div class="timer-btns center-hz appear mt-3 svelte-1fm6inc"><button class="btn btn-secondary svelte-1fm6inc" aria-label="quit"><i class="bi bi-stop-circle-fill svelte-1fm6inc"></i></button> <!> <span class="svelte-1fm6inc"> </span></div> <div class="center-hz svelte-1fm6inc"></div></div>'),ea=S('<div class="center-vt svelte-1fm6inc"><div class="form-group svelte-1fm6inc"><label class="svelte-1fm6inc">Duration: <input class="form-control svelte-1fm6inc" type="number" min="1" max="50"></label></div> <div class="form-group svelte-1fm6inc"><label class="svelte-1fm6inc">What would you like to work on? <input class="form-control svelte-1fm6inc" placeholder="Set task name"></label></div> <button class="btn btn-primary mt-4 svelte-1fm6inc">Start</button></div>'),aa=S('<div class="center-hz svelte-1fm6inc"><div class="center-vt svelte-1fm6inc"><div class="center-hz svelte-1fm6inc"></div> <div class="center-hz svelte-1fm6inc"><!></div></div></div>');function ta(e,r){fe(r,!0);let s=T(r,"length",3,25),o=T(r,"name",3,"Untitled"),n=T(r,"color",3,"#F00"),i=x(!1),t=x(!1),u=x(q(s())),f=D(()=>a(u)*60),l=x(q(o())),v=x(q(new Date)),b=x(void 0),h=x(0),_=x(0),L=D(()=>a(h)+a(_)),w=D(()=>Math.max(0,a(f)-a(L))),W=D(()=>Math.floor(a(w)/60)%60),j=D(()=>Math.round(a(w))%60),_e=D(()=>new Date(a(v).getTime()+(a(f)-a(_))*1e3)),be=D(()=>Math.round(a(L)/a(f)*100));function ae(){let g=(new Date-a(v))/1e3;g>a(f)?(m(h,q(a(f))),te(),alert("Finished "+a(l))):m(h,g)}function H(){m(i,!0),m(t,!1),a(h)>0&&(m(_,a(_)+a(h)),m(h,0)),m(v,q(new Date)),ae(),m(b,q(setInterval(ae,1e3)))}function te(){m(i,!1),m(t,!1),clearInterval(a(b)),m(h,0),m(_,0)}function re(){m(t,!0),clearInterval(a(b))}We(()=>{clearInterval(a(b))});var J=aa();Oe("keydown",Ae,g=>{a(i)&&g.key==" "&&(a(t)?H():re(),g.preventDefault())});var le=d(J),se=k(d(le),2),he=d(se);{var ge=g=>{var I=$e(),z=d(I);Ke(z,{get progress(){return a(be)},get color(){return n()},children:(p,P)=>{var Z=Qe(),B=d(Z),pe=d(B);c(B);var ie=k(B,2),ye=d(ie,!0);c(ie),c(Z),V((xe,Se)=>{Ve(B,"paused",a(t)),C(pe,`${xe??""}:${Se??""}`),C(ye,a(l))},[()=>a(W).toString().padStart(2,"0"),()=>a(j).toString().padStart(2,"0")]),y(p,Z)},$$slots:{default:!0}});var E=k(z,2),R=d(E);R.__click=te;var M=k(R,2);{var F=p=>{var P=Xe();P.__click=H,y(p,P)},N=p=>{var P=Ye();P.__click=re,y(p,P)};ee(M,p=>{a(t)?p(F):p(N,!1)})}var O=k(M,2),A=d(O);c(O),c(E),Fe(2),c(I),V(p=>C(A,`Finished: ${p??""}`),[()=>a(_e).toLocaleTimeString()]),y(g,I)},ke=g=>{var I=ea(),z=d(I),E=d(z),R=k(d(E));$(R),c(E),c(z);var M=k(z,2),F=d(M),N=k(d(F));$(N),c(F),c(M);var O=k(M,2);O.__click=H,c(I),oe(R,()=>a(u),A=>m(u,A)),oe(N,()=>a(l),A=>m(l,A)),y(g,I)};ee(he,g=>{a(i)?g(ge):g(ke,!1)})}c(se),c(le),c(J),y(e,J),me()}Ne(["click"]);var ra=S('<input type="radio" class="btn-check" autocomplete="off"> <label class="btn btn-outline svelte-1gc1982"> </label>',1),la=S('<br> <br>  <div class="center-hz svelte-1gc1982"><div class="btn-group mb-3" role="group" aria-label="Pomodoro Mode Selector"></div></div> <!>',1);function _a(e){const r=[],s={work:{name:"Work",length:25,color:"#ab5744"},break:{name:"Break",length:5,color:"#4d82ab"},longbreak:{name:"Long Break",length:10,color:"#237047"}};let o=x("work");var n=la(),i=k(Y(n),4),t=d(i);Be(t,21,()=>Object.entries(s),Ce,(f,l)=>{let v=()=>a(l)[0],b=()=>a(l)[1];var h=ra(),_=Y(h);$(_);var L,w=k(_,2),W=d(w,!0);c(w),V(()=>{G(_,"id",`radio-${v()}`),L!==(L=v())&&(_.value=(_.__value=v())==null?"":v()),G(w,"for",`radio-${v()}`),G(w,"style",a(o)==v()?`background-color: ${b().color};`:""),C(W,b().name)}),Je(r,[],_,()=>(v(),a(o)),j=>m(o,j)),y(f,h)}),c(t),c(i);var u=k(i,2);He(u,()=>a(o),f=>{ta(f,Ue(()=>s[a(o)]))}),y(e,n)}export{_a as component};
