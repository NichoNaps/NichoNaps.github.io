import{a as y,t as S,c as we}from"../chunks/BytvLRbI.js";import{aG as ce,aH as Ie,aI as De,v as Te,o as V,q as Me,B as ze,A as Pe,C as qe,U as Le,aD as de,as as Ae,R as ie,g as Ee,p as fe,c as d,r as n,t as W,a as ue,f as Y,ac as x,s as g,i as a,aJ as Re,l as D,a9 as u}from"../chunks/BB5DN_9U.js";import{l as pe,d as Be,e as Ce,s as O}from"../chunks/Dv6-Wk-n.js";import{e as Fe,i as Ne}from"../chunks/B6eUZ5uL.js";import{s as U,r as $}from"../chunks/9rwt7uyX.js";import{i as Oe,p as q}from"../chunks/C7c-pIji.js";import{p as T,s as Ue}from"../chunks/BQ8B5XgM.js";import{i as ee}from"../chunks/DKMOSqTW.js";import{t as Ve}from"../chunks/Bvena8yX.js";import{a as We}from"../chunks/DmKgEQkT.js";import{s as je}from"../chunks/FNxw04mV.js";function Ge(e,r,s){V&&Me();var v=e,i=Le,o,t=ce()?Ie:De;Te(()=>{t(i,i=r())&&(o&&ze(o),o=Pe(()=>s(v)))}),V&&(v=qe)}function ve(e,r,s=r){var v=ce();pe(e,"input",i=>{var o=i?e.defaultValue:e.value;if(o=Q(e)?X(o):o,s(o),v&&o!==(o=r())){var t=e.selectionStart,p=e.selectionEnd;e.value=o??"",p!==null&&(e.selectionStart=t,e.selectionEnd=Math.min(p,e.value.length))}}),(V&&e.defaultValue!==e.value||Ee(r)==null&&e.value)&&s(Q(e)?X(e.value):e.value),de(()=>{var i=r();Q(e)&&i===X(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const K=new Set;function He(e,r,s,v,i=v){var o=s.getAttribute("type")==="checkbox",t=e;let p=!1;if(r!==null)for(var f of r)t=t[f]??(t[f]=[]);t.push(s),pe(s,"change",()=>{var l=s.__value;o&&(l=ne(t,l,s.checked)),i(l)},()=>i(o?[]:null)),de(()=>{var l=v();if(V&&s.defaultChecked!==s.checked){p=!0;return}o?(l=l||[],s.checked=l.includes(s.__value)):s.checked=Oe(s.__value,l)}),Ae(()=>{var l=t.indexOf(s);l!==-1&&t.splice(l,1)}),K.has(t)||(K.add(t),ie(()=>{t.sort((l,c)=>l.compareDocumentPosition(c)===4?-1:1),K.delete(t)})),ie(()=>{if(p){var l;if(o)l=ne(t,l,s.checked);else{var c=t.find(_=>_.checked);l=c==null?void 0:c.__value}i(l)}})}function ne(e,r,s){for(var v=new Set,i=0;i<e.length;i+=1)e[i].checked&&v.add(e[i].__value);return s||v.delete(r),Array.from(v)}function Q(e){var r=e.type;return r==="number"||r==="range"}function X(e){return e===""?null:+e}var Je=S('<div style="aspect-ratio: 1/1; display: inline-block;"><div class="backing svelte-efxvsm"><div><!></div></div></div>');function Ze(e,r){fe(r,!0);let s=T(r,"borderRadius",3,"10px"),v=T(r,"progress",7,0),i=T(r,"color",3,"rgb(153, 86, 86)"),o=T(r,"extraPadding",3,"18px");v(Math.max(1,v()));var t=Je(),p=d(t),f=d(p),l=d(f);{var c=_=>{var b=we(),m=Y(b);je(m,()=>r.children),y(_,b)};ee(l,_=>{r.children&&_(c)})}n(f),n(p),n(t),W(()=>U(p,"style",`--ring-width: ${s()??""}; --progress: ${v()??""}%; --ring-color: ${i()??""}; --extra-padding: ${o()??""};`)),y(e,t),ue()}var Ke=S('<div class="svelte-1ptrp1e"><h1 class="timer-text center-hz svelte-1ptrp1e"> </h1> <div class="timer-subtext center-hz svelte-1ptrp1e"> </div></div>'),Qe=S('<button class="btn btn-danger svelte-1ptrp1e" aria-label="resume"><i class="bi bi-play-fill svelte-1ptrp1e"></i></button>'),Xe=S('<button class="btn btn-secondary svelte-1ptrp1e" aria-label="pause"><i class="bi bi-pause-fill svelte-1ptrp1e"></i></button>'),Ye=S('<div class="appear svelte-1ptrp1e"><!> <div class="timer-btns center-hz appear mt-3 svelte-1ptrp1e"><button class="btn btn-secondary svelte-1ptrp1e" aria-label="quit"><i class="bi bi-stop-circle-fill svelte-1ptrp1e"></i></button> <!> <span class="svelte-1ptrp1e"> </span></div></div>'),$e=S('<div class="center-vt svelte-1ptrp1e"><div class="form-group svelte-1ptrp1e"><label class="svelte-1ptrp1e">Duration: <input class="form-control svelte-1ptrp1e" type="number" min="1" max="50"></label></div> <div class="form-group svelte-1ptrp1e"><label class="svelte-1ptrp1e">What would you like to work on? <input class="form-control svelte-1ptrp1e" placeholder="Set task name"></label></div> <button class="btn btn-primary mt-4 svelte-1ptrp1e">Start</button></div>'),ea=S('<div class="center-hz svelte-1ptrp1e"><div class="center-vt svelte-1ptrp1e"><div class="center-hz svelte-1ptrp1e"></div> <div class="center-hz svelte-1ptrp1e"><!></div></div></div>');function aa(e,r){fe(r,!0);let s=T(r,"length",3,25),v=T(r,"name",3,"Untitled"),i=T(r,"color",3,"#F00"),o=x(!1),t=x(!1),p=x(q(s())),f=D(()=>a(p)*60),l=x(q(v())),c=x(q(new Date)),_=x(void 0),b=x(0),m=x(0),L=D(()=>a(b)+a(m)),w=D(()=>Math.max(0,a(f)-a(L))),j=D(()=>Math.floor(a(w)/60)%60),G=D(()=>Math.round(a(w))%60),me=D(()=>new Date(a(c).getTime()+(a(f)-a(m))*1e3)),_e=D(()=>Math.round(a(L)/a(f)*100));function ae(){let h=(new Date-a(c))/1e3;h>a(f)?(u(b,q(a(f))),te(),alert("Finished "+a(l))):u(b,h)}function H(){u(o,!0),u(t,!1),a(b)>0&&(u(m,a(m)+a(b)),u(b,0)),u(c,q(new Date)),ae(),u(_,q(setInterval(ae,1e3)))}function te(){u(o,!1),u(t,!1),clearInterval(a(_)),u(b,0),u(m,0)}function re(){u(t,!0),clearInterval(a(_))}We(()=>{clearInterval(a(_))});var J=ea();Ce("keydown",Re,h=>{a(o)&&h.key==" "&&(a(t)?H():re(),h.preventDefault())});var le=d(J),se=g(d(le),2),be=d(se);{var he=h=>{var I=Ye(),M=d(I);Ze(M,{get progress(){return a(_e)},get color(){return i()},children:(k,P)=>{var Z=Ke(),N=d(Z),ke=d(N);n(N);var oe=g(N,2),ye=d(oe,!0);n(oe),n(Z),W((xe,Se)=>{Ve(N,"paused",a(t)),O(ke,`${xe??""}:${Se??""}`),O(ye,a(l))},[()=>a(j).toString().padStart(2,"0"),()=>a(G).toString().padStart(2,"0")]),y(k,Z)},$$slots:{default:!0}});var A=g(M,2),E=d(A);E.__click=te;var z=g(E,2);{var B=k=>{var P=Qe();P.__click=H,y(k,P)},C=k=>{var P=Xe();P.__click=re,y(k,P)};ee(z,k=>{a(t)?k(B):k(C,!1)})}var F=g(z,2),R=d(F);n(F),n(A),n(I),W(k=>O(R,`Finished: ${k??""}`),[()=>a(me).toLocaleTimeString()]),y(h,I)},ge=h=>{var I=$e(),M=d(I),A=d(M),E=g(d(A));$(E),n(A),n(M);var z=g(M,2),B=d(z),C=g(d(B));$(C),n(B),n(z);var F=g(z,2);F.__click=H,n(I),ve(E,()=>a(p),R=>u(p,R)),ve(C,()=>a(l),R=>u(l,R)),y(h,I)};ee(be,h=>{a(o)?h(he):h(ge,!1)})}n(se),n(le),n(J),y(e,J),ue()}Be(["click"]);var ta=S('<input type="radio" class="btn-check" autocomplete="off"> <label class="btn btn-outline svelte-1gc1982"> </label>',1),ra=S('<br> <br>  <div class="center-hz svelte-1gc1982"><div class="btn-group mb-3" role="group" aria-label="Pomodoro Mode Selector"></div></div> <!>',1);function ma(e){const r=[],s={work:{name:"Work",length:25,color:"#ab5744"},break:{name:"Break",length:5,color:"#4d82ab"},longbreak:{name:"Long Break",length:10,color:"#237047"}};let v=x("work");var i=ra(),o=g(Y(i),4),t=d(o);Fe(t,21,()=>Object.entries(s),Ne,(f,l)=>{let c=()=>a(l)[0],_=()=>a(l)[1];var b=ta(),m=Y(b);$(m);var L,w=g(m,2),j=d(w,!0);n(w),W(()=>{U(m,"id",`radio-${c()}`),L!==(L=c())&&(m.value=(m.__value=c())==null?"":c()),U(w,"for",`radio-${c()}`),U(w,"style",a(v)==c()?`background-color: ${_().color};`:""),O(j,_().name)}),He(r,[],m,()=>(c(),a(v)),G=>u(v,G)),y(f,b)}),n(t),n(o);var p=g(o,2);Ge(p,()=>a(v),f=>{aa(f,Ue(()=>s[a(v)]))}),y(e,i)}export{ma as component};
