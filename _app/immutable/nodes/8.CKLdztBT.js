import{a as y,t as S,c as we}from"../chunks/BytvLRbI.js";import{aG as ve,aH as Ie,aI as De,v as Te,o as V,q as Me,B as ze,A as Pe,C as qe,U as Le,aD as de,as as Ae,R as ne,g as Ee,p as fe,c as d,r as c,t as W,a as me,f as Y,ac as x,s as k,i as a,aJ as Re,l as D,a9 as m}from"../chunks/BB5DN_9U.js";import{l as ue,d as Be,e as Ce,s as O}from"../chunks/Dv6-Wk-n.js";import{e as Fe,i as Ne}from"../chunks/B6eUZ5uL.js";import{s as U,r as $}from"../chunks/9rwt7uyX.js";import{i as Oe,p as q}from"../chunks/C7c-pIji.js";import{p as T,s as Ue}from"../chunks/BQ8B5XgM.js";import{i as ee}from"../chunks/DKMOSqTW.js";import{t as Ve}from"../chunks/Bvena8yX.js";import{a as We}from"../chunks/DmKgEQkT.js";import{s as je}from"../chunks/FNxw04mV.js";function Ge(e,r,s){V&&Me();var o=e,n=Le,i,t=ve()?Ie:De;Te(()=>{t(n,n=r())&&(i&&ze(i),i=Pe(()=>s(o)))}),V&&(o=qe)}function oe(e,r,s=r){var o=ve();ue(e,"input",n=>{var i=n?e.defaultValue:e.value;if(i=Q(e)?X(i):i,s(i),o&&i!==(i=r())){var t=e.selectionStart,u=e.selectionEnd;e.value=i??"",u!==null&&(e.selectionStart=t,e.selectionEnd=Math.min(u,e.value.length))}}),(V&&e.defaultValue!==e.value||Ee(r)==null&&e.value)&&s(Q(e)?X(e.value):e.value),de(()=>{var n=r();Q(e)&&n===X(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const K=new Set;function He(e,r,s,o,n=o){var i=s.getAttribute("type")==="checkbox",t=e;let u=!1;if(r!==null)for(var f of r)t=t[f]??(t[f]=[]);t.push(s),ue(s,"change",()=>{var l=s.__value;i&&(l=ce(t,l,s.checked)),n(l)},()=>n(i?[]:null)),de(()=>{var l=o();if(V&&s.defaultChecked!==s.checked){u=!0;return}i?(l=l||[],s.checked=l.includes(s.__value)):s.checked=Oe(s.__value,l)}),Ae(()=>{var l=t.indexOf(s);l!==-1&&t.splice(l,1)}),K.has(t)||(K.add(t),ne(()=>{t.sort((l,v)=>l.compareDocumentPosition(v)===4?-1:1),K.delete(t)})),ne(()=>{if(u){var l;if(i)l=ce(t,l,s.checked);else{var v=t.find(b=>b.checked);l=v==null?void 0:v.__value}n(l)}})}function ce(e,r,s){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return s||o.delete(r),Array.from(o)}function Q(e){var r=e.type;return r==="number"||r==="range"}function X(e){return e===""?null:+e}var Je=S('<div style="aspect-ratio: 1/1; display: inline-block;"><div class="backing svelte-efxvsm"><div><!></div></div></div>');function Ze(e,r){fe(r,!0);let s=T(r,"borderRadius",3,"10px"),o=T(r,"progress",7,0),n=T(r,"color",3,"rgb(153, 86, 86)"),i=T(r,"extraPadding",3,"18px");o(Math.max(1,o()));var t=Je(),u=d(t),f=d(u),l=d(f);{var v=b=>{var h=we(),_=Y(h);je(_,()=>r.children),y(b,h)};ee(l,b=>{r.children&&b(v)})}c(f),c(u),c(t),W(()=>U(u,"style",`--ring-width: ${s()??""}; --progress: ${o()??""}%; --ring-color: ${n()??""}; --extra-padding: ${i()??""};`)),y(e,t),me()}var Ke=S('<div class="svelte-1fm6inc"><h1 class="timer-text center-hz svelte-1fm6inc"> </h1> <div class="timer-subtext center-hz svelte-1fm6inc"> </div></div>'),Qe=S('<button class="btn btn-danger svelte-1fm6inc" aria-label="resume"><i class="bi bi-play-fill svelte-1fm6inc"></i></button>'),Xe=S('<button class="btn btn-secondary svelte-1fm6inc" aria-label="pause"><i class="bi bi-pause-fill svelte-1fm6inc"></i></button>'),Ye=S('<div class="appear svelte-1fm6inc"><!> <div class="timer-btns center-hz appear mt-3 svelte-1fm6inc"><button class="btn btn-secondary svelte-1fm6inc" aria-label="quit"><i class="bi bi-stop-circle-fill svelte-1fm6inc"></i></button> <!> <span class="svelte-1fm6inc"> </span></div></div>'),$e=S('<div class="center-vt svelte-1fm6inc"><div class="form-group svelte-1fm6inc"><label class="svelte-1fm6inc">Duration: <input class="form-control svelte-1fm6inc" type="number" min="1" max="50"></label></div> <div class="form-group svelte-1fm6inc"><label class="svelte-1fm6inc">What would you like to work on? <input class="form-control svelte-1fm6inc" placeholder="Set task name"></label></div> <button class="btn btn-primary mt-4 svelte-1fm6inc">Start</button></div>'),ea=S('<div class="center-hz svelte-1fm6inc"><div class="center-vt svelte-1fm6inc"><div class="center-hz svelte-1fm6inc"></div> <div class="center-hz svelte-1fm6inc"><!></div></div></div>');function aa(e,r){fe(r,!0);let s=T(r,"length",3,25),o=T(r,"name",3,"Untitled"),n=T(r,"color",3,"#F00"),i=x(!1),t=x(!1),u=x(q(s())),f=D(()=>a(u)*60),l=x(q(o())),v=x(q(new Date)),b=x(void 0),h=x(0),_=x(0),L=D(()=>a(h)+a(_)),w=D(()=>Math.max(0,a(f)-a(L))),j=D(()=>Math.floor(a(w)/60)%60),G=D(()=>Math.round(a(w))%60),_e=D(()=>new Date(a(v).getTime()+(a(f)-a(_))*1e3)),be=D(()=>Math.round(a(L)/a(f)*100));function ae(){let g=(new Date-a(v))/1e3;g>a(f)?(m(h,q(a(f))),te(),alert("Finished "+a(l))):m(h,g)}function H(){m(i,!0),m(t,!1),a(h)>0&&(m(_,a(_)+a(h)),m(h,0)),m(v,q(new Date)),ae(),m(b,q(setInterval(ae,1e3)))}function te(){m(i,!1),m(t,!1),clearInterval(a(b)),m(h,0),m(_,0)}function re(){m(t,!0),clearInterval(a(b))}We(()=>{clearInterval(a(b))});var J=ea();Ce("keydown",Re,g=>{a(i)&&g.key==" "&&(a(t)?H():re(),g.preventDefault())});var le=d(J),se=k(d(le),2),he=d(se);{var ge=g=>{var I=Ye(),M=d(I);Ze(M,{get progress(){return a(be)},get color(){return n()},children:(p,P)=>{var Z=Ke(),N=d(Z),pe=d(N);c(N);var ie=k(N,2),ye=d(ie,!0);c(ie),c(Z),W((xe,Se)=>{Ve(N,"paused",a(t)),O(pe,`${xe??""}:${Se??""}`),O(ye,a(l))},[()=>a(j).toString().padStart(2,"0"),()=>a(G).toString().padStart(2,"0")]),y(p,Z)},$$slots:{default:!0}});var A=k(M,2),E=d(A);E.__click=te;var z=k(E,2);{var B=p=>{var P=Qe();P.__click=H,y(p,P)},C=p=>{var P=Xe();P.__click=re,y(p,P)};ee(z,p=>{a(t)?p(B):p(C,!1)})}var F=k(z,2),R=d(F);c(F),c(A),c(I),W(p=>O(R,`Finished: ${p??""}`),[()=>a(_e).toLocaleTimeString()]),y(g,I)},ke=g=>{var I=$e(),M=d(I),A=d(M),E=k(d(A));$(E),c(A),c(M);var z=k(M,2),B=d(z),C=k(d(B));$(C),c(B),c(z);var F=k(z,2);F.__click=H,c(I),oe(E,()=>a(u),R=>m(u,R)),oe(C,()=>a(l),R=>m(l,R)),y(g,I)};ee(he,g=>{a(i)?g(ge):g(ke,!1)})}c(se),c(le),c(J),y(e,J),me()}Be(["click"]);var ta=S('<input type="radio" class="btn-check" autocomplete="off"> <label class="btn btn-outline svelte-1gc1982"> </label>',1),ra=S('<br> <br>  <div class="center-hz svelte-1gc1982"><div class="btn-group mb-3" role="group" aria-label="Pomodoro Mode Selector"></div></div> <!>',1);function _a(e){const r=[],s={work:{name:"Work",length:25,color:"#ab5744"},break:{name:"Break",length:5,color:"#4d82ab"},longbreak:{name:"Long Break",length:10,color:"#237047"}};let o=x("work");var n=ra(),i=k(Y(n),4),t=d(i);Fe(t,21,()=>Object.entries(s),Ne,(f,l)=>{let v=()=>a(l)[0],b=()=>a(l)[1];var h=ta(),_=Y(h);$(_);var L,w=k(_,2),j=d(w,!0);c(w),W(()=>{U(_,"id",`radio-${v()}`),L!==(L=v())&&(_.value=(_.__value=v())==null?"":v()),U(w,"for",`radio-${v()}`),U(w,"style",a(o)==v()?`background-color: ${b().color};`:""),O(j,b().name)}),He(r,[],_,()=>(v(),a(o)),G=>m(o,G)),y(f,h)}),c(t),c(i);var u=k(i,2);Ge(u,()=>a(o),f=>{aa(f,Ue(()=>s[a(o)]))}),y(e,n)}export{_a as component};
