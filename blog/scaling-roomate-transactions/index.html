<!doctype html>
<html lang="en" data-bs-theme="dark">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- Bootstrap imports -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

		<link rel="stylesheet" href="/main.css">
		<link rel="stylesheet" href="/main2.css">

		
		<link href="../../_app/immutable/assets/0.eeu02Hvi.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Title.DOvGjtxo.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.CpT1hUwt.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DywtUF3_.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BiMIkRpw.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C3_Mm2TB.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.ElI1SJ8u.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Cb2Y7ODg.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/H6rz9AAG.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BCJTda2b.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BpNZxsh_.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C2lHBzFC.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.PJOH8aqz.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CX6vcbmV.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CPYilYw2.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DgR5tkx6.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/6.B47miLO2.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/MdAt_r2H.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DFzt1eml.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/D-B9pSEE.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/U89Qky7J.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BB9lrHUQ.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Bom5U9kS.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CQkuZ-rf.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/zHwvFFU3.js"><!--[--><meta charset="utf-8"> <meta content="width=device-width, initial-scale=1" name="viewport"> <meta content="Efficiently resolving payments with parallel algorithms in High Performance Computing" name="description"> <meta content="Emery C" name="authors"><!--]--><title>
    From Millions to Manageable
   </title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><header class="svelte-1vpa1h1"><nav class="navbar container-md svelte-1vpa1h1"><div><a class="btn svelte-1vpa1h1" href="/">Emery C</a> <a class="btn svelte-1vpa1h1" href="https://github.com/NichoNaps"><i class="bi bi-github" style="font-size: 20px;"></i></a></div> <div><a class="btn svelte-1vpa1h1 " href="/">Home</a> <a class="btn svelte-1vpa1h1 " href="/about/">About</a> <a class="btn svelte-1vpa1h1" style="color: #e7b3c8; border: 1px solid #e7b3c8;" href="mailto:emery2call@gmail.com">Contact Me</a></div></nav></header> <div class="container-md"><div class="row"><div class="col-md-12"><main class="svelte-1vpa1h1"><!----><br style="margin-top: 9px;"> <div class="cont svelte-n6hqxz"><h1><!--[--><!---->From Millions to Manageable<!----><!--]--></h1> <div class="tagline svelte-n6hqxz">1256 Words <!--[--><i class="bi bi-dot"></i> Sun Aug 17 2025<!--]--> <!--[!--><!--]--></div> <!--[!--><!--]--> <hr></div><!----> <p>Say you have <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 5.4335555555555555em; height: 0.683em;" viewbox="0 0 59.76911111111111 7.513000000000001" width="59.76911111111111pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFC3973390DEF058C46909472E21C6DD4" y="0"></use></g></g><g transform="translate(9.655555555555555 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gA01A6B9FD95E05DAC479910A845E9B15" y="0"></use></g></g><g transform="translate(21.269111111111112 0)"><g class="typst-group"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gB3BB78530C36BE9B73AF422CB5B60BA0" y="0"></use></g></g><g transform="translate(5.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(11 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(16.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(22 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(27.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(33 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g></g></g></g></g><defs id="glyph"><symbol id="gFC3973390DEF058C46909472E21C6DD4" overflow="visible"><path d="M 5.907 1.507 C 5.654 0.638 5.291 0.198 4.84 0.198 C 4.697 0.198 4.62 0.308 4.62 0.517 C 4.62 0.671 4.686 0.924 4.818 1.265 C 5.258 2.464 5.478 3.256 5.478 3.6629999 C 5.478 4.433 4.961 4.862 4.191 4.862 C 3.542 4.862 2.981 4.576 2.53 3.993 C 2.442 4.4769998 2.057 4.862 1.496 4.862 C 0.88 4.862 0.638 4.29 0.484 3.795 C 0.374 3.443 0.319 3.234 0.319 3.157 C 0.319 3.058 0.374 3.003 0.495 3.003 C 0.55 3.003 0.583 3.014 0.616 3.036 C 0.671 3.135 0.704 3.212 0.715 3.289 C 0.913 4.125 1.166 4.5429997 1.4629999 4.5429997 C 1.661 4.5429997 1.76 4.389 1.76 4.081 C 1.76 3.938 1.705 3.641 1.584 3.19 L 0.957 0.693 C 0.924 0.55 0.858 0.264 0.858 0.20899999 C 0.858 -0.011 0.979 -0.121 1.221 -0.121 C 1.43 -0.121 1.584 -0.011 1.661 0.20899999 C 1.683 0.264 1.749 0.539 1.87 1.012 L 2.101 1.9909999 L 2.431 3.245 C 2.552 3.498 2.739 3.751 2.97 4.015 C 3.289 4.367 3.685 4.5429997 4.158 4.5429997 C 4.521 4.5429997 4.697 4.301 4.697 3.828 C 4.697 3.41 4.466 2.574 3.993 1.3199999 C 3.916 1.122 3.883 0.957 3.883 0.814 C 3.883 0.275 4.29 -0.121 4.818 -0.121 C 5.302 -0.121 5.687 0.154 5.962 0.704 C 6.171 1.144 6.281 1.441 6.281 1.584 C 6.281 1.683 6.226 1.738 6.105 1.738 C 6.072 1.738 5.907 1.6389999 5.907 1.507 Z "></path></symbol><symbol id="gA01A6B9FD95E05DAC479910A845E9B15" overflow="visible"><path d="M 7.678 4.037 L 0.88 4.037 C 0.704 4.037 0.616 3.949 0.616 3.784 C 0.616 3.619 0.704 3.531 0.88 3.531 L 7.678 3.531 C 7.854 3.531 7.942 3.619 7.942 3.784 C 7.942 3.916 7.821 4.037 7.678 4.037 Z M 7.678 1.969 L 0.88 1.969 C 0.704 1.969 0.616 1.881 0.616 1.716 C 0.616 1.551 0.704 1.4629999 0.88 1.4629999 L 7.678 1.4629999 C 7.854 1.4629999 7.942 1.551 7.942 1.716 C 7.942 1.859 7.821 1.969 7.678 1.969 Z "></path></symbol><symbol id="gB3BB78530C36BE9B73AF422CB5B60BA0" overflow="visible"><path d="M 2.9589999 7.3259997 C 2.508 6.864 1.848 6.633 0.979 6.633 L 0.979 6.204 C 1.551 6.204 2.024 6.292 2.387 6.468 L 2.387 0.902 C 2.387 0.704 2.343 0.572 2.244 0.517 C 2.145 0.462 1.87 0.429 1.43 0.429 L 1.045 0.429 L 1.045 0 C 1.3199999 0.022 1.914 0.033 2.827 0.033 C 3.74 0.033 4.334 0.022 4.609 0 L 4.609 0.429 L 4.224 0.429 C 3.773 0.429 3.498 0.462 3.41 0.517 C 3.322 0.572 3.267 0.704 3.267 0.902 L 3.267 6.996 C 3.267 7.2599998 3.245 7.3259997 2.9589999 7.3259997 Z "></path></symbol><symbol id="g1236698849C752160E1B84DF41709242" overflow="visible"><path d="M 2.739 -0.242 C 4.29 -0.242 5.06 1.012 5.06 3.52 C 5.06 5.203 4.708 6.325 4.015 6.875 C 3.6299999 7.172 3.201 7.3259997 2.75 7.3259997 C 1.199 7.3259997 0.429 6.061 0.429 3.52 C 0.429 1.496 0.968 -0.242 2.739 -0.242 Z M 3.971 5.764 C 4.048 5.379 4.081 4.675 4.081 3.652 C 4.081 2.6399999 4.037 1.892 3.96 1.408 C 3.817 0.528 3.41 0.088 2.739 0.088 C 2.486 0.088 2.233 0.187 2.002 0.374 C 1.705 0.627 1.529 1.144 1.452 1.936 C 1.419 2.211 1.408 2.783 1.408 3.652 C 1.408 4.609 1.441 5.2799997 1.496 5.643 C 1.595 6.248 1.793 6.633 2.101 6.798 C 2.343 6.93 2.552 6.996 2.739 6.996 C 3.454 6.996 3.85 6.413 3.971 5.764 Z "></path></symbol></defs></svg></span> roomates. You all live happily together and occasionally lend money to one another forming a directed graph of at most <span><svg class="typst-frame" height="9.702pt" style="overflow: visible; width: 10.821311111111111em; height: 0.882em;" viewbox="0 0 119.03442222222222 9.702" width="119.03442222222222pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.601)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFA17A526A6D42A2271C2CF3D1C2B1970" y="0"></use></g></g><g transform="translate(8.181555555555557 7.601)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gA01A6B9FD95E05DAC479910A845E9B15" y="0"></use></g></g><g transform="translate(19.79511111111111 7.600999999999998)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gA0135389B253FAF4871A4CB23089E4D0" y="0"></use></g></g><g transform="translate(26.362111111111112 1.8414)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g8247EB6B3EDEAAC7B52B861554222D8" y="0"></use></g></g><g transform="translate(26.889561111111114 11.710600000000003)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gCB93D7E03B8C604AA1FD1E843029605F" y="0"></use></g></g><g transform="translate(31.79831111111111 7.600999999999998)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFEC0DD175B141DDA280B8DE3CEE17294" y="0"></use></g></g><g transform="translate(41.42086666666666 7.601)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gA01A6B9FD95E05DAC479910A845E9B15" y="0"></use></g></g><g transform="translate(53.03442222222222 0.08799999999999945)"><g class="typst-group"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFD9EA5D8A27F50AF81A4E783B787F3FD" y="0"></use></g></g><g transform="translate(5.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(11 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(16.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(22 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(27.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(33 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gBD1BBEF597096F6F540BDFF1653E9FE6" y="0"></use></g></g><g transform="translate(38.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(44 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(49.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(55 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(60.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g></g></g></g></g><defs id="glyph"><symbol id="gFA17A526A6D42A2271C2CF3D1C2B1970" overflow="visible"><path d="M 1.364 1.419 C 1.364 1.683 1.419 2.046 1.529 2.497 L 2.068 2.497 C 2.783 2.497 3.333 2.585 3.729 2.75 C 4.092 2.904 4.334 3.124 4.455 3.399 C 4.532 3.586 4.565 3.762 4.565 3.905 C 4.565 4.5099998 3.993 4.862 3.377 4.862 C 2.948 4.862 2.519 4.752 2.09 4.532 C 1.243 4.092 0.506 3.091 0.506 1.881 C 0.506 0.759 1.155 -0.121 2.244 -0.121 C 2.827 -0.121 3.3439999 0.022 3.795 0.297 C 4.169 0.528 4.444 0.759 4.62 0.99 C 4.697 1.089 4.73 1.166 4.73 1.199 C 4.73 1.3199999 4.675 1.386 4.554 1.386 C 4.499 1.386 4.444 1.342 4.378 1.254 C 4.015 0.77 3.564 0.462 3.047 0.32999998 C 2.706 0.242 2.453 0.198 2.266 0.198 C 1.6389999 0.198 1.364 0.792 1.364 1.419 Z M 4.125 3.905 C 4.125 3.179 3.421 2.816 2.002 2.816 L 1.617 2.816 C 1.826 3.542 2.134 4.026 2.552 4.257 C 2.882 4.444 3.157 4.5429997 3.377 4.5429997 C 3.773 4.5429997 4.125 4.301 4.125 3.905 Z "></path></symbol><symbol id="gA01A6B9FD95E05DAC479910A845E9B15" overflow="visible"><path d="M 7.678 4.037 L 0.88 4.037 C 0.704 4.037 0.616 3.949 0.616 3.784 C 0.616 3.619 0.704 3.531 0.88 3.531 L 7.678 3.531 C 7.854 3.531 7.942 3.619 7.942 3.784 C 7.942 3.916 7.821 4.037 7.678 4.037 Z M 7.678 1.969 L 0.88 1.969 C 0.704 1.969 0.616 1.881 0.616 1.716 C 0.616 1.551 0.704 1.4629999 0.88 1.4629999 L 7.678 1.4629999 C 7.854 1.4629999 7.942 1.551 7.942 1.716 C 7.942 1.859 7.821 1.969 7.678 1.969 Z "></path></symbol><symbol id="gA0135389B253FAF4871A4CB23089E4D0" overflow="visible"><path d="M 5.731 -7.106 C 5.863 -7.106 5.929 -7.04 5.929 -6.908 C 5.929 -6.842 5.907 -6.787 5.863 -6.743 C 4.906 -6.006 4.136 -4.752 3.564 -2.981 C 3.069 -1.474 2.827 0.011 2.827 1.4629999 L 2.827 4.037 C 2.827 5.489 3.069 6.974 3.564 8.481 C 4.136 10.252 4.906 11.506 5.863 12.243 C 5.907 12.287 5.929 12.342 5.929 12.408 C 5.929 12.54 5.863 12.606 5.731 12.606 C 5.709 12.606 5.676 12.595 5.621 12.584 C 4.532 11.748 3.641 10.45 2.937 8.701 C 2.288 7.084 1.969 5.522 1.969 4.037 L 1.969 1.4629999 C 1.969 -0.022 2.288 -1.584 2.937 -3.201 C 3.641 -4.95 4.532 -6.248 5.621 -7.084 C 5.676 -7.095 5.709 -7.106 5.731 -7.106 Z "></path></symbol><symbol id="g8247EB6B3EDEAAC7B52B861554222D8" overflow="visible"><path d="M 1.2628 3.3957 C 1.0087 3.3957 0.80079997 3.2570999 0.6391 2.9722 C 0.5313 2.7797 0.4466 2.5795 0.3927 2.3562 C 0.3696 2.2714999 0.3619 2.2253 0.3619 2.2099 C 0.3619 2.1252 0.4158 2.079 0.5236 2.079 C 0.6699 2.079 0.6776 2.1637 0.7161 2.3253999 C 0.847 2.8567 1.0241 3.1262 1.2474 3.1262 C 1.3937 3.1262 1.4629999 3.0107 1.4629999 2.7797 C 1.4629999 2.695 1.4245 2.4948 1.3398 2.1637 L 0.9317 0.5159 C 0.8778 0.308 0.85469997 0.20019999 0.85469997 0.1925 C 0.85469997 0.0154 0.9548 -0.077 1.1473 -0.077 C 1.2936 -0.077 1.4014 -0.0154 1.4707 0.1078 C 1.4938 0.154 1.54 0.3157 1.6093 0.5852 L 1.771 1.2628 C 1.8634 1.6247 1.9173 1.8249 1.9327 1.8711 C 1.9943 2.0713 2.0867 2.2638 2.2175999 2.4409 C 2.541 2.8952 2.9106 3.1262 3.3341 3.1262 C 3.6113 3.1262 3.7498999 2.9568 3.7498999 2.6257 C 3.7498999 2.3253999 3.6036 1.7941 3.3033 1.0241 C 3.2263 0.8239 3.1878 0.6853 3.1878 0.6006 C 3.1878 0.1848 3.5266 -0.077 3.9424 -0.077 C 4.3043 -0.077 4.5969 0.1078 4.8048 0.4774 C 4.9818997 0.7931 5.0666 1.001 5.0666 1.1087999 C 5.0666 1.1935 5.0127 1.2397 4.9126 1.2397 C 4.8587 1.232 4.8048 1.1935 4.7509 1.1165 C 4.7432 1.1087999 4.7432 1.0934 4.7432 1.0857 C 4.5661 0.4928 4.3043 0.1925 3.9654999 0.1925 C 3.8576999 0.1925 3.8037999 0.2695 3.8037999 0.4312 C 3.8037999 0.539 3.8654 0.7392 3.9809 1.0318 C 4.2504 1.7171 4.3813 2.2099 4.3813 2.5025 C 4.3813 2.8567 4.2581 3.1031 4.0194 3.234 C 3.8269 3.3418 3.6036 3.3957 3.3648999 3.3957 C 2.8644 3.3957 2.4409 3.1801 2.1021 2.7489 C 2.0328 3.1262 1.7017 3.3957 1.2628 3.3957 Z "></path></symbol><symbol id="gCB93D7E03B8C604AA1FD1E843029605F" overflow="visible"><path d="M 0.9163 3.2648 C 1.1626999 3.2648 1.3475 3.4496 1.3475 3.696 C 1.3475 3.9732 1.2012 4.1195 0.9163 4.1272 C 1.0857 4.4891 1.4707 4.7817 1.9712 4.7817 C 2.6488 4.7817 3.0954 4.2735 3.0954 3.5959 C 3.0954 3.2263 2.9645 2.8720999 2.695 2.5256 C 2.5641 2.3485 2.464 2.2253 2.3947 2.156 L 0.5698 0.3465 C 0.4697 0.2541 0.4851 0.231 0.4851 0 L 3.6575 0 L 3.8962 1.4476 L 3.5728 1.4476 C 3.5189 1.0395 3.4573 0.80079997 3.388 0.7469 C 3.3495 0.7238 3.1108 0.7084 2.6565 0.7084 L 1.3475 0.7084 C 1.8634 1.1626999 2.3408 1.5708 2.7951 1.9327 C 3.1416 2.2022 3.388 2.4409 3.542 2.6488 C 3.773 2.9491 3.8885 3.2648 3.8885 3.5959 C 3.8885 4.0733 3.7037 4.4506 3.3264 4.7278 C 2.9953 4.9818997 2.5795 5.1128 2.0867 5.1128 C 1.6632 5.1128 1.3013 4.9896 0.9856 4.7432 C 0.6545 4.4737 0.4851 4.1349 0.4851 3.7191 C 0.4851 3.4573 0.6776 3.2648 0.9163 3.2648 Z "></path></symbol><symbol id="gFEC0DD175B141DDA280B8DE3CEE17294" overflow="visible"><path d="M 0.946 -7.084 C 2.035 -6.248 2.9259999 -4.95 3.6299999 -3.201 C 4.279 -1.584 4.598 -0.022 4.598 1.4629999 L 4.598 4.037 C 4.598 5.522 4.279 7.084 3.6299999 8.701 C 2.9259999 10.45 2.035 11.748 0.946 12.584 C 0.891 12.595 0.858 12.606 0.83599997 12.606 C 0.704 12.606 0.638 12.54 0.638 12.408 C 0.638 12.342 0.65999997 12.287 0.704 12.243 C 1.661 11.506 2.431 10.252 3.003 8.481 C 3.498 6.974 3.74 5.489 3.74 4.037 L 3.74 1.4629999 C 3.74 0.011 3.498 -1.474 3.003 -2.981 C 2.431 -4.752 1.661 -6.006 0.704 -6.743 C 0.65999997 -6.787 0.638 -6.842 0.638 -6.908 C 0.638 -7.04 0.704 -7.106 0.83599997 -7.106 C 0.858 -7.106 0.891 -7.095 0.946 -7.084 Z "></path></symbol><symbol id="gFD9EA5D8A27F50AF81A4E783B787F3FD" overflow="visible"><path d="M 3.883 7.447 C 3.784 7.447 3.696 7.392 3.6299999 7.2929997 L 0.308 2.189 L 0.308 1.793 L 3.179 1.793 L 3.179 0.891 C 3.179 0.693 3.135 0.561 3.058 0.506 C 2.981 0.451 2.772 0.429 2.409 0.429 L 2.134 0.429 L 2.134 0 C 2.453 0.022 2.9589999 0.033 3.641 0.033 C 4.323 0.033 4.829 0.022 5.148 0 L 5.148 0.429 L 4.873 0.429 C 4.5099998 0.429 4.301 0.451 4.224 0.506 C 4.147 0.561 4.103 0.693 4.103 0.891 L 4.103 1.793 L 5.1809998 1.793 L 5.1809998 2.222 L 4.103 2.222 L 4.103 7.2599998 C 4.103 7.37 4.026 7.447 3.883 7.447 Z M 3.245 6.083 L 3.245 2.222 L 0.737 2.222 Z "></path></symbol><symbol id="gD467D2A147C11C1B546C7706EE721FD7" overflow="visible"><path d="M 1.276 1.54 C 0.913 1.54 0.737 1.353 0.737 0.979 C 0.737 0.154 1.408 -0.242 2.277 -0.242 C 3.157 -0.242 3.861 0.198 4.378 1.089 C 4.807 1.826 5.027 2.673 5.027 3.619 C 5.027 5.016 4.774 6.006 4.268 6.5889997 C 3.839 7.084 3.3439999 7.3259997 2.783 7.3259997 C 2.134 7.3259997 1.595 7.095 1.166 6.6219997 C 0.693 6.127 0.462 5.533 0.462 4.84 C 0.462 4.169 0.65999997 3.597 1.056 3.124 C 1.474 2.618 2.013 2.365 2.662 2.365 C 3.234 2.365 3.674 2.673 3.971 3.289 L 3.971 3.146 C 3.971 1.947 3.762 1.133 3.333 0.693 C 2.992 0.32999998 2.629 0.154 2.266 0.154 C 1.826 0.154 1.507 0.253 1.298 0.462 C 1.6389999 0.462 1.8149999 0.65999997 1.8149999 1.001 C 1.8149999 1.309 1.584 1.54 1.276 1.54 Z M 2.673 2.706 C 2.244 2.706 1.925 2.9259999 1.705 3.366 C 1.584 3.619 1.518 4.114 1.518 4.829 C 1.518 5.544 1.595 6.028 1.738 6.303 C 1.98 6.743 2.332 6.963 2.783 6.963 C 3.234 6.963 3.564 6.6879997 3.773 6.138 C 3.894 5.841 3.971 5.335 3.971 4.62 C 3.971 3.6629999 3.542 2.706 2.673 2.706 Z "></path></symbol><symbol id="gBD1BBEF597096F6F540BDFF1653E9FE6" overflow="visible"><path d="M 1.298 3.465 C 1.353 3.465 1.419 3.509 1.474 3.586 C 1.804 4.081 2.2549999 4.323 2.827 4.323 C 3.212 4.323 3.509 4.103 3.707 3.652 C 3.828 3.355 3.894 2.904 3.894 2.299 C 3.894 1.606 3.806 1.122 3.641 0.83599997 C 3.366 0.385 2.992 0.154 2.519 0.154 C 1.782 0.154 1.199 0.682 1.001 1.254 C 1.034 1.243 1.056 1.254 1.1 1.254 C 1.43 1.254 1.705 1.507 1.705 1.837 C 1.705 2.178 1.43 2.409 1.1 2.409 C 0.715 2.409 0.55 2.2 0.55 1.793 C 0.55 0.693 1.441 -0.242 2.541 -0.242 C 3.212 -0.242 3.784 0 4.246 0.484 C 4.708 0.968 4.939 1.551 4.939 2.222 C 4.939 2.86 4.752 3.41 4.378 3.883 C 3.971 4.4 3.465 4.653 2.849 4.653 C 2.332 4.653 1.881 4.488 1.518 4.158 L 1.518 6.116 C 1.8149999 6.028 2.101 5.984 2.398 5.984 C 2.904 5.984 3.3439999 6.105 3.718 6.358 C 4.059 6.567 4.29 6.776 4.422 6.974 C 4.488 7.062 4.521 7.128 4.521 7.161 C 4.521 7.271 4.466 7.3259997 4.356 7.3259997 C 3.751 7.095 3.234 6.974 2.816 6.974 C 2.321 6.974 1.848 7.073 1.397 7.282 C 1.342 7.304 1.298 7.315 1.254 7.315 C 1.155 7.315 1.1 7.216 1.1 7.007 L 1.1 3.795 C 1.1 3.564 1.1 3.465 1.298 3.465 Z "></path></symbol><symbol id="g1236698849C752160E1B84DF41709242" overflow="visible"><path d="M 2.739 -0.242 C 4.29 -0.242 5.06 1.012 5.06 3.52 C 5.06 5.203 4.708 6.325 4.015 6.875 C 3.6299999 7.172 3.201 7.3259997 2.75 7.3259997 C 1.199 7.3259997 0.429 6.061 0.429 3.52 C 0.429 1.496 0.968 -0.242 2.739 -0.242 Z M 3.971 5.764 C 4.048 5.379 4.081 4.675 4.081 3.652 C 4.081 2.6399999 4.037 1.892 3.96 1.408 C 3.817 0.528 3.41 0.088 2.739 0.088 C 2.486 0.088 2.233 0.187 2.002 0.374 C 1.705 0.627 1.529 1.144 1.452 1.936 C 1.419 2.211 1.408 2.783 1.408 3.652 C 1.408 4.609 1.441 5.2799997 1.496 5.643 C 1.595 6.248 1.793 6.633 2.101 6.798 C 2.343 6.93 2.552 6.996 2.739 6.996 C 3.454 6.996 3.85 6.413 3.971 5.764 Z "></path></symbol></defs></svg></span> edges of money owed. A year goes by and suddenly, there is a problem (just one). How do you resolve the money owed between these <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 0.6em; height: 0.683em;" viewbox="0 0 6.6 7.513000000000001" width="6.6pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFC3973390DEF058C46909472E21C6DD4" y="0"></use></g></g></g><defs id="glyph"><symbol id="gFC3973390DEF058C46909472E21C6DD4" overflow="visible"><path d="M 5.907 1.507 C 5.654 0.638 5.291 0.198 4.84 0.198 C 4.697 0.198 4.62 0.308 4.62 0.517 C 4.62 0.671 4.686 0.924 4.818 1.265 C 5.258 2.464 5.478 3.256 5.478 3.6629999 C 5.478 4.433 4.961 4.862 4.191 4.862 C 3.542 4.862 2.981 4.576 2.53 3.993 C 2.442 4.4769998 2.057 4.862 1.496 4.862 C 0.88 4.862 0.638 4.29 0.484 3.795 C 0.374 3.443 0.319 3.234 0.319 3.157 C 0.319 3.058 0.374 3.003 0.495 3.003 C 0.55 3.003 0.583 3.014 0.616 3.036 C 0.671 3.135 0.704 3.212 0.715 3.289 C 0.913 4.125 1.166 4.5429997 1.4629999 4.5429997 C 1.661 4.5429997 1.76 4.389 1.76 4.081 C 1.76 3.938 1.705 3.641 1.584 3.19 L 0.957 0.693 C 0.924 0.55 0.858 0.264 0.858 0.20899999 C 0.858 -0.011 0.979 -0.121 1.221 -0.121 C 1.43 -0.121 1.584 -0.011 1.661 0.20899999 C 1.683 0.264 1.749 0.539 1.87 1.012 L 2.101 1.9909999 L 2.431 3.245 C 2.552 3.498 2.739 3.751 2.97 4.015 C 3.289 4.367 3.685 4.5429997 4.158 4.5429997 C 4.521 4.5429997 4.697 4.301 4.697 3.828 C 4.697 3.41 4.466 2.574 3.993 1.3199999 C 3.916 1.122 3.883 0.957 3.883 0.814 C 3.883 0.275 4.29 -0.121 4.818 -0.121 C 5.302 -0.121 5.687 0.154 5.962 0.704 C 6.171 1.144 6.281 1.441 6.281 1.584 C 6.281 1.683 6.226 1.738 6.105 1.738 C 6.072 1.738 5.907 1.6389999 5.907 1.507 Z "></path></symbol></defs></svg></span> roommates under the constraints that one roommate can only payout to another if they initially owed that person money and there must be <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 3.378222222222222em; height: 0.683em;" viewbox="0 0 37.160444444444444 7.513000000000001" width="37.160444444444444pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFB1D242CE74680AC75C9C33F2E29031B" y="0"></use></g></g><g transform="translate(11.613555555555557 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFC3973390DEF058C46909472E21C6DD4" y="0"></use></g></g><g transform="translate(20.657999999999998 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g6C580B99489782E0E35723839C8714FA" y="0"></use></g></g><g transform="translate(31.66044444444444 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gB3BB78530C36BE9B73AF422CB5B60BA0" y="0"></use></g></g></g><defs id="glyph"><symbol id="gFB1D242CE74680AC75C9C33F2E29031B" overflow="visible"><path d="M 7.348 0.41799998 C 7.546 0.319 7.733 0.484 7.733 0.65999997 C 7.733 0.759 7.678 0.83599997 7.579 0.88 L 1.705 3.6629999 L 7.579 6.446 C 7.678 6.49 7.733 6.567 7.733 6.666 C 7.733 6.853 7.645 6.941 7.469 6.941 C 7.425 6.941 7.381 6.93 7.348 6.919 L 1.034 3.927 C 0.924 3.872 0.869 3.784 0.869 3.6629999 C 0.869 3.542 0.924 3.465 1.034 3.41 Z M 7.458 -0.792 L 1.1 -0.792 C 0.924 -0.792 0.83599997 -0.88 0.83599997 -1.045 C 0.83599997 -1.221 0.924 -1.309 1.1 -1.309 L 7.458 -1.309 C 7.634 -1.309 7.722 -1.221 7.722 -1.045 C 7.722 -0.913 7.601 -0.792 7.458 -0.792 Z "></path></symbol><symbol id="gFC3973390DEF058C46909472E21C6DD4" overflow="visible"><path d="M 5.907 1.507 C 5.654 0.638 5.291 0.198 4.84 0.198 C 4.697 0.198 4.62 0.308 4.62 0.517 C 4.62 0.671 4.686 0.924 4.818 1.265 C 5.258 2.464 5.478 3.256 5.478 3.6629999 C 5.478 4.433 4.961 4.862 4.191 4.862 C 3.542 4.862 2.981 4.576 2.53 3.993 C 2.442 4.4769998 2.057 4.862 1.496 4.862 C 0.88 4.862 0.638 4.29 0.484 3.795 C 0.374 3.443 0.319 3.234 0.319 3.157 C 0.319 3.058 0.374 3.003 0.495 3.003 C 0.55 3.003 0.583 3.014 0.616 3.036 C 0.671 3.135 0.704 3.212 0.715 3.289 C 0.913 4.125 1.166 4.5429997 1.4629999 4.5429997 C 1.661 4.5429997 1.76 4.389 1.76 4.081 C 1.76 3.938 1.705 3.641 1.584 3.19 L 0.957 0.693 C 0.924 0.55 0.858 0.264 0.858 0.20899999 C 0.858 -0.011 0.979 -0.121 1.221 -0.121 C 1.43 -0.121 1.584 -0.011 1.661 0.20899999 C 1.683 0.264 1.749 0.539 1.87 1.012 L 2.101 1.9909999 L 2.431 3.245 C 2.552 3.498 2.739 3.751 2.97 4.015 C 3.289 4.367 3.685 4.5429997 4.158 4.5429997 C 4.521 4.5429997 4.697 4.301 4.697 3.828 C 4.697 3.41 4.466 2.574 3.993 1.3199999 C 3.916 1.122 3.883 0.957 3.883 0.814 C 3.883 0.275 4.29 -0.121 4.818 -0.121 C 5.302 -0.121 5.687 0.154 5.962 0.704 C 6.171 1.144 6.281 1.441 6.281 1.584 C 6.281 1.683 6.226 1.738 6.105 1.738 C 6.072 1.738 5.907 1.6389999 5.907 1.507 Z "></path></symbol><symbol id="g6C580B99489782E0E35723839C8714FA" overflow="visible"><path d="M 7.678 2.97 L 0.88 2.97 C 0.704 2.97 0.616 2.893 0.616 2.75 C 0.616 2.6069999 0.704 2.53 0.88 2.53 L 7.678 2.53 C 7.854 2.53 7.942 2.6069999 7.942 2.75 C 7.942 2.882 7.81 2.97 7.678 2.97 Z "></path></symbol><symbol id="gB3BB78530C36BE9B73AF422CB5B60BA0" overflow="visible"><path d="M 2.9589999 7.3259997 C 2.508 6.864 1.848 6.633 0.979 6.633 L 0.979 6.204 C 1.551 6.204 2.024 6.292 2.387 6.468 L 2.387 0.902 C 2.387 0.704 2.343 0.572 2.244 0.517 C 2.145 0.462 1.87 0.429 1.43 0.429 L 1.045 0.429 L 1.045 0 C 1.3199999 0.022 1.914 0.033 2.827 0.033 C 3.74 0.033 4.334 0.022 4.609 0 L 4.609 0.429 L 4.224 0.429 C 3.773 0.429 3.498 0.462 3.41 0.517 C 3.322 0.572 3.267 0.704 3.267 0.902 L 3.267 6.996 C 3.267 7.2599998 3.245 7.3259997 2.9589999 7.3259997 Z "></path></symbol></defs></svg></span> payments in total to resolve all debt?</p> <p>These constraints rule out the trivial answer to have all owers payout into a single cash pool that is then redistributed to anyone who is owed money.</p> <p>An algorithm that does meet these criteria is as follows: Start by finding an undirected cycle in the graph of money owed (Ex: <a href="#loc-1">Figure 1</a> ). Next, find the edge with the smallest amount owed along that cycle. Now, subtract or add (depending on edge directions in the cycle) that edge weight around the cycle (Ex: <a href="#loc-2">Figure 2</a> ). This includes subtracting it from itself and we delete all edges with weight zero so we always delete the smallest edge. The rational for this is that <strong>we are passing the money owed within that edge around the cycle the long way so the debt is still paid.</strong> All thats left to do is just run this procedure over and over until no undirected cycles can be found. If no cycles can be found then that means we are left with a most a spanning tree which by definition has at most <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 2.3224444444444443em; height: 0.683em;" viewbox="0 0 25.546888888888887 7.513000000000001" width="25.546888888888887pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFC3973390DEF058C46909472E21C6DD4" y="0"></use></g></g><g transform="translate(9.044444444444444 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g6C580B99489782E0E35723839C8714FA" y="0"></use></g></g><g transform="translate(20.046888888888887 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gB3BB78530C36BE9B73AF422CB5B60BA0" y="0"></use></g></g></g><defs id="glyph"><symbol id="gFC3973390DEF058C46909472E21C6DD4" overflow="visible"><path d="M 5.907 1.507 C 5.654 0.638 5.291 0.198 4.84 0.198 C 4.697 0.198 4.62 0.308 4.62 0.517 C 4.62 0.671 4.686 0.924 4.818 1.265 C 5.258 2.464 5.478 3.256 5.478 3.6629999 C 5.478 4.433 4.961 4.862 4.191 4.862 C 3.542 4.862 2.981 4.576 2.53 3.993 C 2.442 4.4769998 2.057 4.862 1.496 4.862 C 0.88 4.862 0.638 4.29 0.484 3.795 C 0.374 3.443 0.319 3.234 0.319 3.157 C 0.319 3.058 0.374 3.003 0.495 3.003 C 0.55 3.003 0.583 3.014 0.616 3.036 C 0.671 3.135 0.704 3.212 0.715 3.289 C 0.913 4.125 1.166 4.5429997 1.4629999 4.5429997 C 1.661 4.5429997 1.76 4.389 1.76 4.081 C 1.76 3.938 1.705 3.641 1.584 3.19 L 0.957 0.693 C 0.924 0.55 0.858 0.264 0.858 0.20899999 C 0.858 -0.011 0.979 -0.121 1.221 -0.121 C 1.43 -0.121 1.584 -0.011 1.661 0.20899999 C 1.683 0.264 1.749 0.539 1.87 1.012 L 2.101 1.9909999 L 2.431 3.245 C 2.552 3.498 2.739 3.751 2.97 4.015 C 3.289 4.367 3.685 4.5429997 4.158 4.5429997 C 4.521 4.5429997 4.697 4.301 4.697 3.828 C 4.697 3.41 4.466 2.574 3.993 1.3199999 C 3.916 1.122 3.883 0.957 3.883 0.814 C 3.883 0.275 4.29 -0.121 4.818 -0.121 C 5.302 -0.121 5.687 0.154 5.962 0.704 C 6.171 1.144 6.281 1.441 6.281 1.584 C 6.281 1.683 6.226 1.738 6.105 1.738 C 6.072 1.738 5.907 1.6389999 5.907 1.507 Z "></path></symbol><symbol id="g6C580B99489782E0E35723839C8714FA" overflow="visible"><path d="M 7.678 2.97 L 0.88 2.97 C 0.704 2.97 0.616 2.893 0.616 2.75 C 0.616 2.6069999 0.704 2.53 0.88 2.53 L 7.678 2.53 C 7.854 2.53 7.942 2.6069999 7.942 2.75 C 7.942 2.882 7.81 2.97 7.678 2.97 Z "></path></symbol><symbol id="gB3BB78530C36BE9B73AF422CB5B60BA0" overflow="visible"><path d="M 2.9589999 7.3259997 C 2.508 6.864 1.848 6.633 0.979 6.633 L 0.979 6.204 C 1.551 6.204 2.024 6.292 2.387 6.468 L 2.387 0.902 C 2.387 0.704 2.343 0.572 2.244 0.517 C 2.145 0.462 1.87 0.429 1.43 0.429 L 1.045 0.429 L 1.045 0 C 1.3199999 0.022 1.914 0.033 2.827 0.033 C 3.74 0.033 4.334 0.022 4.609 0 L 4.609 0.429 L 4.224 0.429 C 3.773 0.429 3.498 0.462 3.41 0.517 C 3.322 0.572 3.267 0.704 3.267 0.902 L 3.267 6.996 C 3.267 7.2599998 3.245 7.3259997 2.9589999 7.3259997 Z "></path></symbol></defs></svg></span> edges so we have met the second requirement. As for the first requirement, this algorithm only deletes edges from the original graph so it is also met.</p> <div class="row"><div class="col-xl-6"><div class="mb-3"><figure id="loc-1"><!--[!--><!--]--> <div class="cont svelte-13ztt2u"><img src="/_app/immutable/assets/before.C_8qsbT6.png" class="img svelte-13ztt2u" style="box-shadow: 10px 28px 78px -36px rgba(0,0,0,0.9);" loading="lazy" decoding="async"> <!--[!--><!--]--></div><!----> <figcaption>Figure 1: Original Graph of Amounts Owed: Dan directly pays Bob</figcaption></figure></div></div> <div class="col-xl-6"><div class="mb-3"><figure id="loc-2"><!--[!--><!--]--> <div class="cont svelte-13ztt2u"><img src="/_app/immutable/assets/after.BlxTv7kS.png" class="img svelte-13ztt2u" style="box-shadow: 10px 28px 78px -36px rgba(0,0,0,0.9);" loading="lazy" decoding="async"> <!--[!--><!--]--></div><!----> <figcaption>Figure 2: Processed Result: Dan now indirectly pays Bob</figcaption></figure></div></div></div> <p>In my testing this algorithm could find the solution to an 800 node graph with  300k edges in 21 minutes on a modern computer in 2025. However, that graph size isn’t any where close to <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 6.322888888888888em; height: 0.683em;" viewbox="0 0 69.55177777777777 7.513000000000001" width="69.55177777777777pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFC3973390DEF058C46909472E21C6DD4" y="0"></use></g></g><g transform="translate(9.655555555555555 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gA01A6B9FD95E05DAC479910A845E9B15" y="0"></use></g></g><g transform="translate(21.269111111111112 0)"><g class="typst-group"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gB3BB78530C36BE9B73AF422CB5B60BA0" y="0"></use></g></g><g transform="translate(5.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g3B024AD5804C2C5501D826AA53CF884" y="0"></use></g></g><g transform="translate(10.391333333333332 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(15.891333333333332 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(21.391333333333332 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(26.891333333333332 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g3B024AD5804C2C5501D826AA53CF884" y="0"></use></g></g><g transform="translate(31.782666666666664 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(37.282666666666664 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(42.782666666666664 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g></g></g></g></g><defs id="glyph"><symbol id="gFC3973390DEF058C46909472E21C6DD4" overflow="visible"><path d="M 5.907 1.507 C 5.654 0.638 5.291 0.198 4.84 0.198 C 4.697 0.198 4.62 0.308 4.62 0.517 C 4.62 0.671 4.686 0.924 4.818 1.265 C 5.258 2.464 5.478 3.256 5.478 3.6629999 C 5.478 4.433 4.961 4.862 4.191 4.862 C 3.542 4.862 2.981 4.576 2.53 3.993 C 2.442 4.4769998 2.057 4.862 1.496 4.862 C 0.88 4.862 0.638 4.29 0.484 3.795 C 0.374 3.443 0.319 3.234 0.319 3.157 C 0.319 3.058 0.374 3.003 0.495 3.003 C 0.55 3.003 0.583 3.014 0.616 3.036 C 0.671 3.135 0.704 3.212 0.715 3.289 C 0.913 4.125 1.166 4.5429997 1.4629999 4.5429997 C 1.661 4.5429997 1.76 4.389 1.76 4.081 C 1.76 3.938 1.705 3.641 1.584 3.19 L 0.957 0.693 C 0.924 0.55 0.858 0.264 0.858 0.20899999 C 0.858 -0.011 0.979 -0.121 1.221 -0.121 C 1.43 -0.121 1.584 -0.011 1.661 0.20899999 C 1.683 0.264 1.749 0.539 1.87 1.012 L 2.101 1.9909999 L 2.431 3.245 C 2.552 3.498 2.739 3.751 2.97 4.015 C 3.289 4.367 3.685 4.5429997 4.158 4.5429997 C 4.521 4.5429997 4.697 4.301 4.697 3.828 C 4.697 3.41 4.466 2.574 3.993 1.3199999 C 3.916 1.122 3.883 0.957 3.883 0.814 C 3.883 0.275 4.29 -0.121 4.818 -0.121 C 5.302 -0.121 5.687 0.154 5.962 0.704 C 6.171 1.144 6.281 1.441 6.281 1.584 C 6.281 1.683 6.226 1.738 6.105 1.738 C 6.072 1.738 5.907 1.6389999 5.907 1.507 Z "></path></symbol><symbol id="gA01A6B9FD95E05DAC479910A845E9B15" overflow="visible"><path d="M 7.678 4.037 L 0.88 4.037 C 0.704 4.037 0.616 3.949 0.616 3.784 C 0.616 3.619 0.704 3.531 0.88 3.531 L 7.678 3.531 C 7.854 3.531 7.942 3.619 7.942 3.784 C 7.942 3.916 7.821 4.037 7.678 4.037 Z M 7.678 1.969 L 0.88 1.969 C 0.704 1.969 0.616 1.881 0.616 1.716 C 0.616 1.551 0.704 1.4629999 0.88 1.4629999 L 7.678 1.4629999 C 7.854 1.4629999 7.942 1.551 7.942 1.716 C 7.942 1.859 7.821 1.969 7.678 1.969 Z "></path></symbol><symbol id="gB3BB78530C36BE9B73AF422CB5B60BA0" overflow="visible"><path d="M 2.9589999 7.3259997 C 2.508 6.864 1.848 6.633 0.979 6.633 L 0.979 6.204 C 1.551 6.204 2.024 6.292 2.387 6.468 L 2.387 0.902 C 2.387 0.704 2.343 0.572 2.244 0.517 C 2.145 0.462 1.87 0.429 1.43 0.429 L 1.045 0.429 L 1.045 0 C 1.3199999 0.022 1.914 0.033 2.827 0.033 C 3.74 0.033 4.334 0.022 4.609 0 L 4.609 0.429 L 4.224 0.429 C 3.773 0.429 3.498 0.462 3.41 0.517 C 3.322 0.572 3.267 0.704 3.267 0.902 L 3.267 6.996 C 3.267 7.2599998 3.245 7.3259997 2.9589999 7.3259997 Z "></path></symbol><symbol id="g3B024AD5804C2C5501D826AA53CF884" overflow="visible"><path d="M 1.529 1.166 C 1.177 1.166 0.946 0.902 0.946 0.55 C 0.946 0.22 1.199 -0.055 1.529 -0.055 C 1.683 -0.055 1.8149999 -0.011 1.914 0.088 L 1.925 0 C 1.925 -0.693 1.694 -1.287 1.232 -1.76 C 1.155 -1.848 1.111 -1.914 1.111 -1.958 C 1.111 -2.068 1.155 -2.123 1.254 -2.123 C 1.353 -2.123 1.485 -1.9909999 1.6719999 -1.738 C 2.046 -1.21 2.233 -0.627 2.233 0 C 2.233 0.583 2.035 1.166 1.529 1.166 Z "></path></symbol><symbol id="g1236698849C752160E1B84DF41709242" overflow="visible"><path d="M 2.739 -0.242 C 4.29 -0.242 5.06 1.012 5.06 3.52 C 5.06 5.203 4.708 6.325 4.015 6.875 C 3.6299999 7.172 3.201 7.3259997 2.75 7.3259997 C 1.199 7.3259997 0.429 6.061 0.429 3.52 C 0.429 1.496 0.968 -0.242 2.739 -0.242 Z M 3.971 5.764 C 4.048 5.379 4.081 4.675 4.081 3.652 C 4.081 2.6399999 4.037 1.892 3.96 1.408 C 3.817 0.528 3.41 0.088 2.739 0.088 C 2.486 0.088 2.233 0.187 2.002 0.374 C 1.705 0.627 1.529 1.144 1.452 1.936 C 1.419 2.211 1.408 2.783 1.408 3.652 C 1.408 4.609 1.441 5.2799997 1.496 5.643 C 1.595 6.248 1.793 6.633 2.101 6.798 C 2.343 6.93 2.552 6.996 2.739 6.996 C 3.454 6.996 3.85 6.413 3.971 5.764 Z "></path></symbol></defs></svg></span> and that eye watering <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 6em; height: 0.683em;" viewbox="0 0 66 7.513000000000001" width="66pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFD9EA5D8A27F50AF81A4E783B787F3FD" y="0"></use></g></g><g transform="translate(5.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(11 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(16.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(22 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(27.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(33 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gBD1BBEF597096F6F540BDFF1653E9FE6" y="0"></use></g></g><g transform="translate(38.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(44 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(49.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(55 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(60.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g></g><defs id="glyph"><symbol id="gFD9EA5D8A27F50AF81A4E783B787F3FD" overflow="visible"><path d="M 3.883 7.447 C 3.784 7.447 3.696 7.392 3.6299999 7.2929997 L 0.308 2.189 L 0.308 1.793 L 3.179 1.793 L 3.179 0.891 C 3.179 0.693 3.135 0.561 3.058 0.506 C 2.981 0.451 2.772 0.429 2.409 0.429 L 2.134 0.429 L 2.134 0 C 2.453 0.022 2.9589999 0.033 3.641 0.033 C 4.323 0.033 4.829 0.022 5.148 0 L 5.148 0.429 L 4.873 0.429 C 4.5099998 0.429 4.301 0.451 4.224 0.506 C 4.147 0.561 4.103 0.693 4.103 0.891 L 4.103 1.793 L 5.1809998 1.793 L 5.1809998 2.222 L 4.103 2.222 L 4.103 7.2599998 C 4.103 7.37 4.026 7.447 3.883 7.447 Z M 3.245 6.083 L 3.245 2.222 L 0.737 2.222 Z "></path></symbol><symbol id="gD467D2A147C11C1B546C7706EE721FD7" overflow="visible"><path d="M 1.276 1.54 C 0.913 1.54 0.737 1.353 0.737 0.979 C 0.737 0.154 1.408 -0.242 2.277 -0.242 C 3.157 -0.242 3.861 0.198 4.378 1.089 C 4.807 1.826 5.027 2.673 5.027 3.619 C 5.027 5.016 4.774 6.006 4.268 6.5889997 C 3.839 7.084 3.3439999 7.3259997 2.783 7.3259997 C 2.134 7.3259997 1.595 7.095 1.166 6.6219997 C 0.693 6.127 0.462 5.533 0.462 4.84 C 0.462 4.169 0.65999997 3.597 1.056 3.124 C 1.474 2.618 2.013 2.365 2.662 2.365 C 3.234 2.365 3.674 2.673 3.971 3.289 L 3.971 3.146 C 3.971 1.947 3.762 1.133 3.333 0.693 C 2.992 0.32999998 2.629 0.154 2.266 0.154 C 1.826 0.154 1.507 0.253 1.298 0.462 C 1.6389999 0.462 1.8149999 0.65999997 1.8149999 1.001 C 1.8149999 1.309 1.584 1.54 1.276 1.54 Z M 2.673 2.706 C 2.244 2.706 1.925 2.9259999 1.705 3.366 C 1.584 3.619 1.518 4.114 1.518 4.829 C 1.518 5.544 1.595 6.028 1.738 6.303 C 1.98 6.743 2.332 6.963 2.783 6.963 C 3.234 6.963 3.564 6.6879997 3.773 6.138 C 3.894 5.841 3.971 5.335 3.971 4.62 C 3.971 3.6629999 3.542 2.706 2.673 2.706 Z "></path></symbol><symbol id="gBD1BBEF597096F6F540BDFF1653E9FE6" overflow="visible"><path d="M 1.298 3.465 C 1.353 3.465 1.419 3.509 1.474 3.586 C 1.804 4.081 2.2549999 4.323 2.827 4.323 C 3.212 4.323 3.509 4.103 3.707 3.652 C 3.828 3.355 3.894 2.904 3.894 2.299 C 3.894 1.606 3.806 1.122 3.641 0.83599997 C 3.366 0.385 2.992 0.154 2.519 0.154 C 1.782 0.154 1.199 0.682 1.001 1.254 C 1.034 1.243 1.056 1.254 1.1 1.254 C 1.43 1.254 1.705 1.507 1.705 1.837 C 1.705 2.178 1.43 2.409 1.1 2.409 C 0.715 2.409 0.55 2.2 0.55 1.793 C 0.55 0.693 1.441 -0.242 2.541 -0.242 C 3.212 -0.242 3.784 0 4.246 0.484 C 4.708 0.968 4.939 1.551 4.939 2.222 C 4.939 2.86 4.752 3.41 4.378 3.883 C 3.971 4.4 3.465 4.653 2.849 4.653 C 2.332 4.653 1.881 4.488 1.518 4.158 L 1.518 6.116 C 1.8149999 6.028 2.101 5.984 2.398 5.984 C 2.904 5.984 3.3439999 6.105 3.718 6.358 C 4.059 6.567 4.29 6.776 4.422 6.974 C 4.488 7.062 4.521 7.128 4.521 7.161 C 4.521 7.271 4.466 7.3259997 4.356 7.3259997 C 3.751 7.095 3.234 6.974 2.816 6.974 C 2.321 6.974 1.848 7.073 1.397 7.282 C 1.342 7.304 1.298 7.315 1.254 7.315 C 1.155 7.315 1.1 7.216 1.1 7.007 L 1.1 3.795 C 1.1 3.564 1.1 3.465 1.298 3.465 Z "></path></symbol><symbol id="g1236698849C752160E1B84DF41709242" overflow="visible"><path d="M 2.739 -0.242 C 4.29 -0.242 5.06 1.012 5.06 3.52 C 5.06 5.203 4.708 6.325 4.015 6.875 C 3.6299999 7.172 3.201 7.3259997 2.75 7.3259997 C 1.199 7.3259997 0.429 6.061 0.429 3.52 C 0.429 1.496 0.968 -0.242 2.739 -0.242 Z M 3.971 5.764 C 4.048 5.379 4.081 4.675 4.081 3.652 C 4.081 2.6399999 4.037 1.892 3.96 1.408 C 3.817 0.528 3.41 0.088 2.739 0.088 C 2.486 0.088 2.233 0.187 2.002 0.374 C 1.705 0.627 1.529 1.144 1.452 1.936 C 1.419 2.211 1.408 2.783 1.408 3.652 C 1.408 4.609 1.441 5.2799997 1.496 5.643 C 1.595 6.248 1.793 6.633 2.101 6.798 C 2.343 6.93 2.552 6.996 2.739 6.996 C 3.454 6.996 3.85 6.413 3.971 5.764 Z "></path></symbol></defs></svg></span> edges so how can we go faster?</p> <h2>Scaling to a High Performance Compute Cluster</h2> <p>It turns out that parallelizing this algorithm is pretty simple as long as we do it on unique subsets of edges so that one process is not mutating the same data as another. As for picking out these subgraphs, I opted for a fast heuristic of taking a random node and then breadth first spreading around it (once again treating the directed graph as undirected) until I hit the number of edges I wanted in that subgraph. This lets us quickly find subgraphs of roughly equal edge count that might have cycles within them for our algorithm to prune. From what I’ve observed this works enough on random graphs (Using Erdős-Rényi’s algorithm) that the solved subgraphs will often have already removed enough edges that there isn’t any work to be done on the final merged graph.</p> <p>So we can parallelize it, but will that be enough? The most basic form of scaling an algorithm on a computer is to use multiple threads or processes to take advantage of multiple CPU Logical Processors but this is <strong>limiting because the largest CPU today is only <a href="https://ir.amd.com/news-events/press-releases/detail/1219/amd-launches-5th-gen-amd-epyc-cpus-maintaining-leadership-performance-and-features-for-the-modern-data-center">256 Cores</a> (Hyprthreading makes that 512 Logical Processors).</strong> If we really want to scale up we need to utilize multiple computers.</p> <p>Introducing, HPC (High Performance Computing). HPC is a catchall term for aggregate compute systems like data centers and after getting access to MSU’s HPC Cluster for a course I had exactly what I needed. To implement the algorithm I wrote a Python program that uses the subgraph heuristic to paralyze using both the normal <span class="raw-inline"><code style="white-space: pre-wrap">multiprocessing</code></span> library for paralyzing across processes and <a href="https://hpc-wiki.info/hpc/MPI">MPI (Message Passing Interface)</a> . MPI works similar to <span class="raw-inline"><code style="white-space: pre-wrap">multiprocessing</code></span> but it lets you scale your program across multiple nodes/computers within an HPC Cluster.</p> <h2>Results</h2> <p>Using a random graph with 800 nodes with edge probability of 0.9 between each node pair resulting in 313,655 edges I collected the following stats.</p> <figure><div class="table-responsive"><table class="table table-striped"><thead><tr><th>Type</th><th>Logical Processors used in Parallel</th><th>Time</th></tr></thead><tbody><tr><td>MPI&amp;Multiprocessing(nodes=5+1, procs=16)</td><td>80</td><td>1m3.666s</td></tr><tr><td>Multiprocessing(procs=64)</td><td>64</td><td>1m11.418s</td></tr><tr><td>MPI&amp;Multiprocessing(nodes=5+1, procs=8)</td><td>40</td><td>1m17.025s</td></tr><tr><td>Multiprocessing(procs=32)</td><td>32</td><td>1m19.702s</td></tr><tr><td>MPI(nodes=5+1)</td><td>5</td><td>2m55.098s</td></tr><tr><td>Single Process</td><td>1</td><td>21m5.739s</td></tr></tbody></table></div> <figcaption>Table 1: MSU HPC Test Results</figcaption></figure> <div class="alert alert-info widget-alert svelte-btezhk" role="alert"><!--[--><h5 class="alert-heading svelte-btezhk"><i class="bi bi-sticky-fill svelte-btezhk"></i> Note on Syntax</h5><!--]--> <p><!--[--><p>I used <span class="raw-inline"><code style="white-space: pre-wrap">nodes = # workers + 1 root</code></span> because the root node wasn’t doing anything during the subgraph parallelism portion. This is to make it more comparable with multiprocessing which always has a +1 process acting as its root too, it just doesn’t lock up an entire process like it does in MPI. Also I’m using “procs” synonymously with logical processors because I am allocating one process via <span class="raw-inline"><code style="white-space: pre-wrap">multiprocessing</code></span> for ever logical processor.</p><!----><!--]--></p></div><!----> <p>What’s exciting about this data is that after sorting by logical processor count, the Type column alternates between tests with MPI or using plain procs all the while time decreases the larger the logical processor count. This indicates that MPI isn’t introducing a lot of overhead compared to using more processes on the same machine which further suggests that on larger graphs like <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 5.4335555555555555em; height: 0.683em;" viewbox="0 0 59.76911111111111 7.513000000000001" width="59.76911111111111pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gFC3973390DEF058C46909472E21C6DD4" y="0"></use></g></g><g transform="translate(9.655555555555555 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gA01A6B9FD95E05DAC479910A845E9B15" y="0"></use></g></g><g transform="translate(21.269111111111112 0)"><g class="typst-group"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gB3BB78530C36BE9B73AF422CB5B60BA0" y="0"></use></g></g><g transform="translate(5.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(11 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(16.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(22 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(27.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(33 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g></g></g></g></g><defs id="glyph"><symbol id="gFC3973390DEF058C46909472E21C6DD4" overflow="visible"><path d="M 5.907 1.507 C 5.654 0.638 5.291 0.198 4.84 0.198 C 4.697 0.198 4.62 0.308 4.62 0.517 C 4.62 0.671 4.686 0.924 4.818 1.265 C 5.258 2.464 5.478 3.256 5.478 3.6629999 C 5.478 4.433 4.961 4.862 4.191 4.862 C 3.542 4.862 2.981 4.576 2.53 3.993 C 2.442 4.4769998 2.057 4.862 1.496 4.862 C 0.88 4.862 0.638 4.29 0.484 3.795 C 0.374 3.443 0.319 3.234 0.319 3.157 C 0.319 3.058 0.374 3.003 0.495 3.003 C 0.55 3.003 0.583 3.014 0.616 3.036 C 0.671 3.135 0.704 3.212 0.715 3.289 C 0.913 4.125 1.166 4.5429997 1.4629999 4.5429997 C 1.661 4.5429997 1.76 4.389 1.76 4.081 C 1.76 3.938 1.705 3.641 1.584 3.19 L 0.957 0.693 C 0.924 0.55 0.858 0.264 0.858 0.20899999 C 0.858 -0.011 0.979 -0.121 1.221 -0.121 C 1.43 -0.121 1.584 -0.011 1.661 0.20899999 C 1.683 0.264 1.749 0.539 1.87 1.012 L 2.101 1.9909999 L 2.431 3.245 C 2.552 3.498 2.739 3.751 2.97 4.015 C 3.289 4.367 3.685 4.5429997 4.158 4.5429997 C 4.521 4.5429997 4.697 4.301 4.697 3.828 C 4.697 3.41 4.466 2.574 3.993 1.3199999 C 3.916 1.122 3.883 0.957 3.883 0.814 C 3.883 0.275 4.29 -0.121 4.818 -0.121 C 5.302 -0.121 5.687 0.154 5.962 0.704 C 6.171 1.144 6.281 1.441 6.281 1.584 C 6.281 1.683 6.226 1.738 6.105 1.738 C 6.072 1.738 5.907 1.6389999 5.907 1.507 Z "></path></symbol><symbol id="gA01A6B9FD95E05DAC479910A845E9B15" overflow="visible"><path d="M 7.678 4.037 L 0.88 4.037 C 0.704 4.037 0.616 3.949 0.616 3.784 C 0.616 3.619 0.704 3.531 0.88 3.531 L 7.678 3.531 C 7.854 3.531 7.942 3.619 7.942 3.784 C 7.942 3.916 7.821 4.037 7.678 4.037 Z M 7.678 1.969 L 0.88 1.969 C 0.704 1.969 0.616 1.881 0.616 1.716 C 0.616 1.551 0.704 1.4629999 0.88 1.4629999 L 7.678 1.4629999 C 7.854 1.4629999 7.942 1.551 7.942 1.716 C 7.942 1.859 7.821 1.969 7.678 1.969 Z "></path></symbol><symbol id="gB3BB78530C36BE9B73AF422CB5B60BA0" overflow="visible"><path d="M 2.9589999 7.3259997 C 2.508 6.864 1.848 6.633 0.979 6.633 L 0.979 6.204 C 1.551 6.204 2.024 6.292 2.387 6.468 L 2.387 0.902 C 2.387 0.704 2.343 0.572 2.244 0.517 C 2.145 0.462 1.87 0.429 1.43 0.429 L 1.045 0.429 L 1.045 0 C 1.3199999 0.022 1.914 0.033 2.827 0.033 C 3.74 0.033 4.334 0.022 4.609 0 L 4.609 0.429 L 4.224 0.429 C 3.773 0.429 3.498 0.462 3.41 0.517 C 3.322 0.572 3.267 0.704 3.267 0.902 L 3.267 6.996 C 3.267 7.2599998 3.245 7.3259997 2.9589999 7.3259997 Z "></path></symbol><symbol id="g1236698849C752160E1B84DF41709242" overflow="visible"><path d="M 2.739 -0.242 C 4.29 -0.242 5.06 1.012 5.06 3.52 C 5.06 5.203 4.708 6.325 4.015 6.875 C 3.6299999 7.172 3.201 7.3259997 2.75 7.3259997 C 1.199 7.3259997 0.429 6.061 0.429 3.52 C 0.429 1.496 0.968 -0.242 2.739 -0.242 Z M 3.971 5.764 C 4.048 5.379 4.081 4.675 4.081 3.652 C 4.081 2.6399999 4.037 1.892 3.96 1.408 C 3.817 0.528 3.41 0.088 2.739 0.088 C 2.486 0.088 2.233 0.187 2.002 0.374 C 1.705 0.627 1.529 1.144 1.452 1.936 C 1.419 2.211 1.408 2.783 1.408 3.652 C 1.408 4.609 1.441 5.2799997 1.496 5.643 C 1.595 6.248 1.793 6.633 2.101 6.798 C 2.343 6.93 2.552 6.996 2.739 6.996 C 3.454 6.996 3.85 6.413 3.971 5.764 Z "></path></symbol></defs></svg></span> where you need more processes than you can have on 1 computer, <strong>using MPI too attain more logical processors by spanning across multiple nodes in the cluster looks very viable</strong> .</p> <p>I also tried more procs but it just runs slower because the created subgraphs eventually become so small that they don’t contain many cycles to prune leading to eventually more single process like performance. So for this graph about  65 seconds is as fast as we can go on these computers.</p> <ul><li><span class="raw-inline"><code style="white-space: pre-wrap">Multiprocessing(procs=128 so 128 lp): 2m0.817s</code></span></li> <li><span class="raw-inline"><code style="white-space: pre-wrap">MPI&amp;Multiprocessing(nodes=5+1, procs=24, so 120 lp): 1m8.499s</code></span></li></ul> <p>So what about <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 3.5em; height: 0.683em;" viewbox="0 0 38.5 7.513000000000001" width="38.5pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gB3BB78530C36BE9B73AF422CB5B60BA0" y="0"></use></g></g><g transform="translate(5.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(11 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(16.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(22 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(27.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(33 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g></g><defs id="glyph"><symbol id="gB3BB78530C36BE9B73AF422CB5B60BA0" overflow="visible"><path d="M 2.9589999 7.3259997 C 2.508 6.864 1.848 6.633 0.979 6.633 L 0.979 6.204 C 1.551 6.204 2.024 6.292 2.387 6.468 L 2.387 0.902 C 2.387 0.704 2.343 0.572 2.244 0.517 C 2.145 0.462 1.87 0.429 1.43 0.429 L 1.045 0.429 L 1.045 0 C 1.3199999 0.022 1.914 0.033 2.827 0.033 C 3.74 0.033 4.334 0.022 4.609 0 L 4.609 0.429 L 4.224 0.429 C 3.773 0.429 3.498 0.462 3.41 0.517 C 3.322 0.572 3.267 0.704 3.267 0.902 L 3.267 6.996 C 3.267 7.2599998 3.245 7.3259997 2.9589999 7.3259997 Z "></path></symbol><symbol id="g1236698849C752160E1B84DF41709242" overflow="visible"><path d="M 2.739 -0.242 C 4.29 -0.242 5.06 1.012 5.06 3.52 C 5.06 5.203 4.708 6.325 4.015 6.875 C 3.6299999 7.172 3.201 7.3259997 2.75 7.3259997 C 1.199 7.3259997 0.429 6.061 0.429 3.52 C 0.429 1.496 0.968 -0.242 2.739 -0.242 Z M 3.971 5.764 C 4.048 5.379 4.081 4.675 4.081 3.652 C 4.081 2.6399999 4.037 1.892 3.96 1.408 C 3.817 0.528 3.41 0.088 2.739 0.088 C 2.486 0.088 2.233 0.187 2.002 0.374 C 1.705 0.627 1.529 1.144 1.452 1.936 C 1.419 2.211 1.408 2.783 1.408 3.652 C 1.408 4.609 1.441 5.2799997 1.496 5.643 C 1.595 6.248 1.793 6.633 2.101 6.798 C 2.343 6.93 2.552 6.996 2.739 6.996 C 3.454 6.996 3.85 6.413 3.971 5.764 Z "></path></symbol></defs></svg></span> roomates?</p> <p>Unfortunately, I couldn’t get close to it because of the <strong>ram limitations on my HPC account</strong> which would force the use of swap space slowing everything down too much. The largest graph I got to work was only a <span><svg class="typst-frame" height="7.513000000000001pt" style="overflow: visible; width: 4.402333333333333em; height: 0.683em;" viewbox="0 0 48.425666666666665 7.513000000000001" width="48.425666666666665pt" xmlns="http://www.w3.org/2000/svg" xmlns:h5="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g transform="translate(0 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gB3BB78530C36BE9B73AF422CB5B60BA0" y="0"></use></g></g><g transform="translate(5.5 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g3B024AD5804C2C5501D826AA53CF884" y="0"></use></g></g><g transform="translate(10.391333333333332 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gB3BB78530C36BE9B73AF422CB5B60BA0" y="0"></use></g></g><g transform="translate(15.891333333333332 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g><g transform="translate(21.391333333333332 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g832ABF109421ACE8CFCA17AB92EF3633" y="0"></use></g></g><g transform="translate(26.891333333333332 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g3B024AD5804C2C5501D826AA53CF884" y="0"></use></g></g><g transform="translate(31.782666666666664 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#gD467D2A147C11C1B546C7706EE721FD7" y="0"></use></g></g><g transform="translate(37.282666666666664 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g5C0A4D85376169A25E43BD87BB20A631" y="0"></use></g></g><g transform="translate(42.925666666666665 7.513000000000001)"><g class="typst-text" transform="scale(1, -1)"><use fill="#e1d2e2" fill-rule="nonzero" x="0" xlink:href="#g1236698849C752160E1B84DF41709242" y="0"></use></g></g></g><defs id="glyph"><symbol id="gB3BB78530C36BE9B73AF422CB5B60BA0" overflow="visible"><path d="M 2.9589999 7.3259997 C 2.508 6.864 1.848 6.633 0.979 6.633 L 0.979 6.204 C 1.551 6.204 2.024 6.292 2.387 6.468 L 2.387 0.902 C 2.387 0.704 2.343 0.572 2.244 0.517 C 2.145 0.462 1.87 0.429 1.43 0.429 L 1.045 0.429 L 1.045 0 C 1.3199999 0.022 1.914 0.033 2.827 0.033 C 3.74 0.033 4.334 0.022 4.609 0 L 4.609 0.429 L 4.224 0.429 C 3.773 0.429 3.498 0.462 3.41 0.517 C 3.322 0.572 3.267 0.704 3.267 0.902 L 3.267 6.996 C 3.267 7.2599998 3.245 7.3259997 2.9589999 7.3259997 Z "></path></symbol><symbol id="g3B024AD5804C2C5501D826AA53CF884" overflow="visible"><path d="M 1.529 1.166 C 1.177 1.166 0.946 0.902 0.946 0.55 C 0.946 0.22 1.199 -0.055 1.529 -0.055 C 1.683 -0.055 1.8149999 -0.011 1.914 0.088 L 1.925 0 C 1.925 -0.693 1.694 -1.287 1.232 -1.76 C 1.155 -1.848 1.111 -1.914 1.111 -1.958 C 1.111 -2.068 1.155 -2.123 1.254 -2.123 C 1.353 -2.123 1.485 -1.9909999 1.6719999 -1.738 C 2.046 -1.21 2.233 -0.627 2.233 0 C 2.233 0.583 2.035 1.166 1.529 1.166 Z "></path></symbol><symbol id="g1236698849C752160E1B84DF41709242" overflow="visible"><path d="M 2.739 -0.242 C 4.29 -0.242 5.06 1.012 5.06 3.52 C 5.06 5.203 4.708 6.325 4.015 6.875 C 3.6299999 7.172 3.201 7.3259997 2.75 7.3259997 C 1.199 7.3259997 0.429 6.061 0.429 3.52 C 0.429 1.496 0.968 -0.242 2.739 -0.242 Z M 3.971 5.764 C 4.048 5.379 4.081 4.675 4.081 3.652 C 4.081 2.6399999 4.037 1.892 3.96 1.408 C 3.817 0.528 3.41 0.088 2.739 0.088 C 2.486 0.088 2.233 0.187 2.002 0.374 C 1.705 0.627 1.529 1.144 1.452 1.936 C 1.419 2.211 1.408 2.783 1.408 3.652 C 1.408 4.609 1.441 5.2799997 1.496 5.643 C 1.595 6.248 1.793 6.633 2.101 6.798 C 2.343 6.93 2.552 6.996 2.739 6.996 C 3.454 6.996 3.85 6.413 3.971 5.764 Z "></path></symbol><symbol id="g832ABF109421ACE8CFCA17AB92EF3633" overflow="visible"><path d="M 2.6069999 7.3259997 C 2.046 7.3259997 1.573 7.128 1.166 6.732 C 0.759 6.336 0.55 5.874 0.55 5.313 C 0.55 4.939 0.825 4.664 1.166 4.664 C 1.496 4.664 1.771 4.95 1.771 5.2799997 C 1.771 5.643 1.507 5.896 1.155 5.896 C 1.122 5.896 1.1 5.896 1.078 5.8849998 C 1.287 6.424 1.771 6.897 2.464 6.897 C 3.366 6.897 3.872 6.116 3.872 5.17 C 3.872 4.433 3.498 3.641 2.75 2.805 L 0.682 0.473 C 0.539 0.308 0.55 0.319 0.55 0 L 4.631 0 L 4.95 1.98 L 4.587 1.98 C 4.499 1.419 4.422 1.1 4.356 1.001 C 4.301 0.946 3.971 0.924 3.366 0.924 L 1.529 0.924 L 2.596 1.969 C 3.3439999 2.673 4.29 3.432 4.609 4.015 C 4.829 4.4 4.939 4.785 4.939 5.17 C 4.939 6.468 3.927 7.3259997 2.6069999 7.3259997 Z "></path></symbol><symbol id="gD467D2A147C11C1B546C7706EE721FD7" overflow="visible"><path d="M 1.276 1.54 C 0.913 1.54 0.737 1.353 0.737 0.979 C 0.737 0.154 1.408 -0.242 2.277 -0.242 C 3.157 -0.242 3.861 0.198 4.378 1.089 C 4.807 1.826 5.027 2.673 5.027 3.619 C 5.027 5.016 4.774 6.006 4.268 6.5889997 C 3.839 7.084 3.3439999 7.3259997 2.783 7.3259997 C 2.134 7.3259997 1.595 7.095 1.166 6.6219997 C 0.693 6.127 0.462 5.533 0.462 4.84 C 0.462 4.169 0.65999997 3.597 1.056 3.124 C 1.474 2.618 2.013 2.365 2.662 2.365 C 3.234 2.365 3.674 2.673 3.971 3.289 L 3.971 3.146 C 3.971 1.947 3.762 1.133 3.333 0.693 C 2.992 0.32999998 2.629 0.154 2.266 0.154 C 1.826 0.154 1.507 0.253 1.298 0.462 C 1.6389999 0.462 1.8149999 0.65999997 1.8149999 1.001 C 1.8149999 1.309 1.584 1.54 1.276 1.54 Z M 2.673 2.706 C 2.244 2.706 1.925 2.9259999 1.705 3.366 C 1.584 3.619 1.518 4.114 1.518 4.829 C 1.518 5.544 1.595 6.028 1.738 6.303 C 1.98 6.743 2.332 6.963 2.783 6.963 C 3.234 6.963 3.564 6.6879997 3.773 6.138 C 3.894 5.841 3.971 5.335 3.971 4.62 C 3.971 3.6629999 3.542 2.706 2.673 2.706 Z "></path></symbol><symbol id="g5C0A4D85376169A25E43BD87BB20A631" overflow="visible"><path d="M 5.225 6.644 C 5.302 6.743 5.335 6.886 5.335 7.084 L 2.673 7.084 C 1.914 7.084 1.485 7.128 1.408 7.2269998 C 1.375 7.2599998 1.342 7.337 1.3199999 7.436 L 0.979 7.436 L 0.605 5.104 L 0.968 5.104 C 1.078 5.72 1.166 6.05 1.232 6.105 C 1.265 6.138 1.606 6.16 2.2549999 6.16 L 4.411 6.16 L 3.245 4.5099998 C 2.354 3.245 1.914 1.881 1.914 0.396 C 1.914 -0.033 2.09 -0.242 2.453 -0.242 C 2.816 -0.242 2.992 -0.033 2.992 0.396 L 2.992 0.957 C 2.992 2.629 3.256 3.839 3.773 4.576 Z "></path></symbol></defs></svg></span> edge graph I ran on 5+1 nodes each with 5 Gigs of memory and 32 procs (so 192 procs in total) that finished in 5m35.914s. This is a 3.5x increase in the number of edges from the previous graph. I could always create a graph with a million roommates but not with anywhere close to 499999500000 edges which is where the real meat and potatoes is. I’d imagine you would need to sequester the entire MSU HPC cluster just to start putting a dent into such a min-boggling large number of edges.</p> <p>That concludes this journey into paralyzing algorithms in an HPC Cluster. In it, we learned about problems like resolving payments between a million people and how we could reduce the number of payments by pruning edges in undirected cycles. We then used a heuristic to split the problem into unique subgraphs so we could paralyze the processing of it. Finally, we used MPI to scale it across nodes in a HPC Cluster unlocking access to more logical processors than any one computer could contain. The results indicate that this problem scales well across nodes so with a large enough cluster we can keep scaling the algorithm in parallel up to the point of diminishing returns from the subgraphs being too small to be useful.</p> <p>I hope you enjoyed this writeup and learned a thing or two!</p> <p>Happy a great day.</p> <br style="margin-top: 200px;"><!----><!----></main></div></div></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_nlhj7a = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../_app/immutable/entry/start.CpT1hUwt.js"),
						import("../../_app/immutable/entry/app.ElI1SJ8u.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 6],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
